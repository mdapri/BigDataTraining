<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/ms2_blogs.js" async="" type="text/javascript"></script><script async="" src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/ai.js" type="text/javascript"></script><script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/Widget.js" charset="UTF-8" type="text/javascript"></script><meta name="robots" content="index,follow">
<meta name="description" content="Team blog for the Big Data Support team at Microsoft. We support HDInsight which is Hadoop running on Windows Azure in the cloud, as well as other big data features.">
<meta name="keywords" content="Hadoop, HDInsight, Pig, Sqoop, Oozie, Hive, Powershell, Ambari, HBase, .NET SDK">
<meta name="GENERATOR" content="Telligent Evolution Platform Developer Build (Build: 5.6.50428.7875)">
<link rel="pingback" href="http://blogs.msdn.com/b/bigdatasupport/pingback.aspx">
<link href="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/8feedfedf8759b4500974679c3848322-77fefa6dcc5095d3fa0a90d883b.css" rel="Stylesheet" type="text/css"><link rel="alternate" type="application/rss+xml" title="Site Home (RSS 2.0)" href="http://blogs.msdn.com/rss.aspx">
<link rel="alternate" type="application/rss+xml" title="Azim Uddin's Comments (RSS 2.0)" href="http://blogs.msdn.com/members/azim91_4000_hotmail.com/comments/rss.aspx">
<link rel="alternate" type="application/rss+xml" title="Azim Uddin's Activities (RSS 2.0)" href="http://blogs.msdn.com/members/azim91_4000_hotmail.com/activities/rss.aspx">
<link rel="alternate" type="application/rss+xml" title="Activities of People Azim Uddin Follows (RSS 2.0)" href="http://blogs.msdn.com/members/azim91_4000_hotmail.com/activities/followersrss.aspx">
<link rel="alternate" type="application/rss+xml" title="Azim Uddin's Groups Activities (RSS 2.0)" href="http://blogs.msdn.com/members/azim91_4000_hotmail.com/activities/groupsrss.aspx">
<link rel="alternate" type="application/rss+xml" title="Big Data Support (RSS 2.0)" href="http://blogs.msdn.com/b/bigdatasupport/rss.aspx">
<link rel="alternate" type="application/atom+xml" title="Big Data Support (Atom 1.0)" href="http://blogs.msdn.com/b/bigdatasupport/atom.aspx">
<link rel="alternate" type="application/rss+xml" title="Big Data Support - All Comments (RSS 2.0)" href="http://blogs.msdn.com/b/bigdatasupport/rsscomments.aspx">
<link rel="alternate" type="application/rss+xml" title="Customizing HDInsight Cluster provisioning  - Comments for this post (RSS 2.0)" href="http://blogs.msdn.com/b/bigdatasupport/rsscomments.aspx?WeblogPostID=10517653">

                    
          <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
          <link rel="shortcut icon" type="image/ico" href="http://blogs.msdn.com/themes/MicrosoftBlue/favicon.ico">
          <!--
            Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code, not by Microsoft.  See ASP.NET Ajax CDN Terms of Use – http://www.asp.net/ajaxlibrary/CDN.ashx.
          -->
          <link href="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/b99611f9f1c194c22df9ecfaa41bbe2b-13c1b9207a9fe05b0677c80a578.css" rel="Stylesheet" type="text/css"><script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/map.js" async="" type="text/javascript"></script><script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/jquery-1.js" type="text/javascript" language="javascript"></script>
                    		  
        
          <link type="text/css" rel="stylesheet" href="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/DynamicStyle.txt" media="screen,print">
        
          <!--[if lte IE 6]>
              <link type="text/css" rel="stylesheet" href="/themes/MicrosoftBlue/css/ie6.css" media="screen,print" />
          <![endif]-->
                  <meta name="msvalidate.01" content="B717AD6FC29D3A844832AF011B5F9E4C">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://blogs.msdn.com/b/bigdatasupport/rsd.ashx">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" title="WLWManifest" href="http://blogs.msdn.com/b/bigdatasupport/wlwmanifest.ashx">

        <!--
            Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code, not by Microsoft.  See ASP.NET Ajax CDN Terms of Use – http://www.asp.net/ajaxlibrary/CDN.ashx.
          -->
        <script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/jquery-1.js" type="text/javascript" language="javascript"></script>
    <title>
	Customizing HDInsight Cluster provisioning - Big Data Support - Site Home - MSDN Blogs
</title><script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/metrics.js" charset="utf-8" type="text/javascript"></script><style type="text/css"></style><script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/jquery-1_002.js"></script><script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/WebResource.axd"></script><script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/WebResource_003.axd"></script><script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/WebResource_004.axd"></script><script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/WebResource_002.axd"></script><script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/jquery.js" type="text/javascript"></script><link type="text/css" rel="stylesheet" href="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/UnifiedBaseballCard.css"><link type="text/css" rel="stylesheet" href="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/usercard.css"><script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/jquery_002.js" type="text/javascript"></script><script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/jquery_003.js" type="text/javascript"></script><script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/widgets.js" type="text/javascript"></script></head>
	<body spellcheck="true">
		<form name="aspnetForm" method="post" action="/b/bigdatasupport/archive/2014/04/15/customizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx" onsubmit="javascript:return WebForm_OnSubmit();" id="aspnetForm">
<div>
<input name="__EVENTTARGET" id="__EVENTTARGET" value="" type="hidden">
<input name="__EVENTARGUMENT" id="__EVENTARGUMENT" value="" type="hidden">
<input name="ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_invisibleCaptcha_answer" id="ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_invisibleCaptcha_answer" value="4" type="hidden">
<input name="ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_invisibleCaptcha_encrypted" id="ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_invisibleCaptcha_encrypted" value="MSKeXtY83L9qt6UZLg0XI1XxmiNDA7irk8GzLo8D6Yc=" type="hidden">
<input name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUKMTM5OTAxNDYyNWRkvI787cXLvh9XHlDReEjVejxzcZ4=" type="hidden">
</div>

<script type="text/javascript">
//<![CDATA[
var theForm = document.forms['aspnetForm'];
if (!theForm) {
    theForm = document.aspnetForm;
}
function __doPostBack(eventTarget, eventArgument) {
    if (!theForm.onsubmit || (theForm.onsubmit() != false)) {
        theForm.__EVENTTARGET.value = eventTarget;
        theForm.__EVENTARGUMENT.value = eventArgument;
        theForm.submit();
    }
}
//]]>
</script>


<script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/36872919a7ddfb9c39e86a6b7a96d534-b9506c32368e6a2907c3d4344f61.js" type="text/javascript"></script>

<script type="text/javascript">
//<![CDATA[
function WebForm_OnSubmit() {
if (typeof(ValidatorOnSubmit) == "function" && ValidatorOnSubmit() == false) return false;
return true;
}
//]]>
</script>

<div>

	<input name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="84C00179" type="hidden">
</div>
			
            
                
            
            <div class="header-fragments-header"></div>
<div class="header-fragments"><div class="header-fragment-outer top-bar MicrosoftBlue-header-fragment-outer MicrosoftBlue-top-bar"><div class="header-fragment-inner top-bar MicrosoftBlue-header-fragment-inner MicrosoftBlue-top-bar"><div class="header-fragment welcome-message" id="header-fragment-1710851422">


<!-- always render -->
</div><div class="header-fragment login-logout" id="header-fragment-1710851423">





        <div class="navigation-list-header"></div>
        <ul class="navigation-list">

            <li class="navigation-item">
                <span id="ctl00_header_fragment_1710851423__acbc85_ctl00_ctl02_ctl05_WLIDLoginButton1" class="internal-link live-id-button"><a href="https://login.live.com/login.srf?wa=wsignin1.0&amp;rpsnv=12&amp;ct=1426324223&amp;rver=6.0.5286.0&amp;wp=MBI&amp;wreply=http:%2F%2Fblogs.msdn.com%2Fb%2Fbigdatasupport%2Farchive%2F2014%2F04%2F15%2Fcustomizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx&amp;lc=1033&amp;id=271611">Sign in</a></span>
            </li>
        </ul>
        <div class="navigation-list-footer"></div>
    </div><div class="header-fragment user-welcome-without-login" id="header-fragment-1710851424">

 &nbsp;<!-- always render -->

</div></div></div><div class="header-fragment blog-banner" id="header-fragment-1710851425">



<div class="site-banner blog-banner">

<h1 class="blog-banner-name"><a href="http://blogs.msdn.com/b/bigdatasupport/">Big Data Support</a></h1>
<div class="blog-banner-description">This is the team blog for the Big 
Data Support team at Microsoft. We support HDInsight which is Hadoop 
running on Windows Azure in the cloud, as well as other big data 
features. </div>
</div>

</div></div>
<div class="header-fragments-footer"></div>
			
    <div class="content-fragment-page post" id="ctl00_content_ctl00_page"><div class="layout">
<div class="layout-header"></div>
<div class="layout-content content-left-sidebar-right" id="ctl00_content_ctl00_layout">
<div class="layout-region right-sidebar" id="ctl00_content_ctl00_right-sidebar">
<div class="layout-region-inner right-sidebar"><div class="content-fragment c-t-f-widget no-wrapper-with-spacing with-header" id="fragment-153015">
<div class="content-fragment-inner MicrosoftBlue-content-fragment-inner"><div class="content-fragment-top MicrosoftBlue-content-fragment-top"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div><div class="content-fragment-header"><div>Translate This Page</div></div>
<div class="content-fragment-content">


     <!--
         
           localize text, such as translate this & powered by 
           
           
            -->
<div class="" id="MicrosoftTranslatorWidget" style="border: 2px solid rgb(0, 90, 136); direction: ltr; width: 220px; min-height: 83px; background-color: rgb(162, 204, 224); background-repeat: repeat-x; background-image: url(&quot;data:image/x-ms-bmp;base64,Qk2eAAAAAAAAADYAAAAoAAAAAQAAABoAAAABABgAAAAAAGgAAAAAAAAAAAAAAAAAAAAAAAAAtJNR/7GPS/+tikX/qoY+/6aBOP+jfTL/oHks/5x0Jf+ZcB//lmwZ/5JnE/+PYwz/i14G/7STUf+3l1f/u5xd/76gZP/CpWr/xalw/8itdv/Msn3/z7aD/9K6if/Wv4//2cOW/93InP8=&quot;);"><div id="MSTWContent"><div style="border-color: rgb(113, 170, 198);" id="MSTWHeader"><span class="MSTWBox"><span id="MSTWHeaderText" style="width: 160px;">Translate this page</span></span><span class="MSTWBox"><select name="MSTWMenu" id="MSTWMenu"><option value="ar">Arabic</option><option value="bg">Bulgarian</option><option value="ca">Catalan</option><option value="zh-chs">Chinese Simplified</option><option value="zh-cht">Chinese Traditional</option><option value="cs">Czech</option><option value="da">Danish</option><option value="nl">Dutch</option><option value="et">Estonian</option><option value="fi">Finnish</option><option value="fr">French</option><option value="de">German</option><option value="el">Greek</option><option value="ht">Haitian Creole</option><option value="he">Hebrew</option><option value="hi">Hindi</option><option value="mww">Hmong Daw</option><option value="hu">Hungarian</option><option value="id">Indonesian</option><option value="it">Italian</option><option value="ja">Japanese</option><option value="tlh">Klingon</option><option value="ko">Korean</option><option value="lv">Latvian</option><option value="lt">Lithuanian</option><option value="ms">Malay</option><option value="mt">Maltese</option><option value="no">Norwegian</option><option value="fa">Persian</option><option value="pl">Polish</option><option value="pt">Portuguese</option><option value="otq">Querétaro Otomi</option><option value="ro">Romanian</option><option value="ru">Russian</option><option value="sk">Slovak</option><option value="sl">Slovenian</option><option selected="selected" value="es">Spanish</option><option value="sv">Swedish</option><option value="th">Thai</option><option value="tr">Turkish</option><option value="uk">Ukrainian</option><option value="ur">Urdu</option><option value="vi">Vietnamese</option><option value="cy">Welsh</option><option value="yua">Yucatec Maya</option></select><a href="javascript:%20Translate%20this%20page" style="background-repeat: repeat-x; background-image: url(&quot;data:image/x-ms-bmp;base64,Qk2GAAAAAAAAADYAAAAoAAAAAQAAABQAAAABABgAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAA8ObL/+7jxv/s4ML/696+/+nbuv/o2bb/5tay/+XUrv/j0ar/4s+m//Dmy//x6M//8+vT//Tt1//28Nv/9/Lf//n14//69+f//Prr//387/8=&quot;); border-color: rgb(113, 170, 198);" id="MSTWGoButton" title="Translate this page" class="MSTWButtonLink"><img id="MSTWGoImage" src="data:image/gif;base64,R0lGODlhGAASAHAAACH5BAEAAP8ALAAAAAAYABIAhwAAAP%2f%2f%2fwAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAg8AP8JHEiwoMGDCBMqXMiwIcMAARwihAhRYkGKFC0KxIjRIkeODj9%2bfCiyYsOSHkFq7KhxY8SW%0d%0aMGPKRBgQADs%3d" style="border-width:0px;"></a></span></div><div id="MSTWFooter"><span id="MSTWBrand" class="MSTWBox"><a id="MSTWBrandLink" title="Microsoft® Translator" href="http://www.bing.com/translator?ref=MSTWidget" target="_blank"><span style="font-family: Segoe UI; direction: ltr;">Microsoft<sup style="vertical-align: super; font-size: 70%;">®</sup> Translator</span></a></span><span id="MSTWGetShare" class="MSTWBox"><a style="border-color: rgb(113, 170, 198);" id="MSTWGetButton" title="Get this widget for your own site" class="MSTWButtonLink" href="http://www.microsofttranslator.com/widget/?ref=MSTWidget" target="_blank"><img id="MSTWGetImage" src="data:image/gif;base64,R0lGODlhGAASAPcAAAAAAP%2f%2f%2fwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAYABIA%0d%0aAAhBAP8JHEiwoMGDCBMqXMiwocOHCAMEGCgRYkWCFxlmxDhx4caCH0F2TBiSI8mRJw%2bWVIny38qI%0d%0aI19CnEmzpk2DAQEAOw%3d%3d" style="border-width:0px;"></a><a href="mailto:?charset=utf-8&amp;subject=Check%20out%20this%20page%20in%20Spanish%20translated%20from%20English&amp;body=Translated%3A%20http%3A%2F%2Fblogs.msdn.com%2Fb%2Fbigdatasupport%2Farchive%2F2014%2F04%2F15%2Fcustomizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx%23mstto%3Des%0D%0AOriginal%3A%20http%3A%2F%2Fblogs.msdn.com%2Fb%2Fbigdatasupport%2Farchive%2F2014%2F04%2F15%2Fcustomizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx%0D%0A%0D%0AAutomatic%20translation%20powered%20by%20Microsoft%C2%AE%20Translator%0D%0Ahttp%3A%2F%2Fwww.bing.com%2Ftranslator" style="border-color: rgb(113, 170, 198);" id="MSTWShareButton" title="Share" class="MSTWButtonLink"><img id="MSTWShareImage" src="data:image/gif;base64,R0lGODlhGAASAPcAAAAAAP%2f%2f%2fwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%0d%0aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAYABIA%0d%0aAAhHAP8JHEiwoMGDCBMqXMiwocOHBQNInEiRokKJFwNc%2fKfxoMaOCDuCHChyo8CRIEcaLGmxZMKP%0d%0aITlmnPmyok2MEHPq3MlTYUAAOw%3d%3d" style="border-width:0px;"></a></span></div><div id="MSTWHidden" style="display: none;"><span id="MSTWCheckOut">Check out this page in {0} translated from {1}</span><span id="MSTWTranslatedFrom">translated from</span><span id="MSTWOriginal">Original:</span><span id="MSTWTranslated">Translated:</span><span id="MSTWPoweredBy">Automatic translation powered by Microsoft® Translator</span><span id="MSTWStart">Start translating</span><span id="MSTWStop">Stop translating</span><span id="MSTWClose">Close</span><span id="MSTWCloseShowOrig">Close and show original page</span><span id="MSTWLangNotSup"></span><span id="MSTWSelect">Select</span></div></div></div>
</div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom MicrosoftBlue-content-fragment-bottom"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div></div></div>
<div class="content-fragment blog-links no-wrapper-with-spacing with-header" id="fragment-153016">
<div class="content-fragment-inner MicrosoftBlue-content-fragment-inner"><div class="content-fragment-top MicrosoftBlue-content-fragment-top"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div><div class="content-fragment-header"><div>Common Tasks</div></div>
<div class="content-fragment-content">

		<div class="navigation-list-header"></div>
		<ul class="navigation-list">
	<li class="navigation-item"><a class="internal-link view-application" href="http://blogs.msdn.com/b/bigdatasupport/"><span></span>Blog Home</a></li><li class="navigation-item"><a class="internal-link email-post" href="mailto:?subject=Customizing%20HDInsight%20Cluster%20provisioning%20&amp;body=http://blogs.msdn.com/b/bigdatasupport/archive/2014/04/15/customizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx">
		<span></span>Share this
	</a></li><li id="" rsscomments"""="" class="navigation-item"><a class="internal-link rss" href="http://blogs.msdn.com/b/bigdatasupport/rsscomments.aspx"><span></span>RSS for comments</a></li><li class="navigation-item"><a class="internal-link rss" href="http://blogs.msdn.com/b/bigdatasupport/rss.aspx"><span></span>RSS for posts</a></li><li class="navigation-item"><a class="internal-link rss" href="http://blogs.msdn.com/b/bigdatasupport/atom.aspx"><span></span>Atom</a></li>
		</ul>
		<div class="navigation-list-footer"></div>
	</div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom MicrosoftBlue-content-fragment-bottom"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div></div></div>
<div class="content-fragment raw-html no-wrapper-with-spacing with-header" id="fragment-153029">
<div class="content-fragment-inner MicrosoftBlue-content-fragment-inner"><div class="content-fragment-top MicrosoftBlue-content-fragment-top"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div><div class="content-fragment-header"><div>Visitor Map</div></div>
<div class="content-fragment-content">
<div class="user-defined-markup"><div style="width: 160px; height: 106px; position: relative;" id="clustrmaps-widget"><a style="border: medium none;" href="http://www2.clustrmaps.com/counter/maps.php?url=http://blogs.msdn.com/b/bigdatasupport/"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/blogs.png" style="background: url(&quot;http://www2.clustrmaps.com/images/nasa_classic.jpg&quot;) repeat scroll 0% 0% transparent; border: medium none; position: absolute; left: 0px; top: 0px; padding: 0px;"><img style="position: absolute; border: medium none; z-index: 1; left: 0px; top: 0px; padding: 0px;" src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/blogs_002.png"><script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/dynamic.js"></script><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/ydot_large.png" style="left: 138px; top: 43px; position: absolute; width: 9px; height: 9px; border: medium none; display: inline; z-index: 1; padding: 0px;"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/ydot_large.png" style="left: 127px; top: 41px; position: absolute; width: 9px; height: 9px; border: medium none; display: inline; z-index: 1; padding: 0px;"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/ydot_large.png" style="left: 153px; top: 77px; position: absolute; width: 9px; height: 9px; border: medium none; display: inline; z-index: 1; padding: 0px;"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/ydot_large.png" style="left: 21px; top: 42px; position: absolute; width: 9px; height: 9px; border: medium none; display: inline; z-index: 1; padding: 0px;"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/ydot_large.png" style="left: 110px; top: 51px; position: absolute; width: 9px; height: 9px; border: medium none; display: inline; z-index: 1; padding: 0px;"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/ydot-xlm.png" style="left: 21px; top: 38px; position: absolute; width: 9px; height: 9px; border: medium none; display: inline; z-index: 99; padding: 0px;"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/ydot_large.png" style="left: 111px; top: 50px; position: absolute; width: 9px; height: 9px; border: medium none; display: inline; z-index: 1; padding: 0px;"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/ydot_large.png" style="left: 128px; top: 45px; position: absolute; width: 9px; height: 9px; border: medium none; display: inline; z-index: 1; padding: 0px;"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/ydot_large.png" style="left: 41px; top: 41px; position: absolute; width: 9px; height: 9px; border: medium none; display: inline; z-index: 1; padding: 0px;"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/ydot_large.png" style="left: 32px; top: 43px; position: absolute; width: 9px; height: 9px; border: medium none; display: inline; z-index: 1; padding: 0px;"></a></div><script type="text/javascript">var _clustrmaps = {'url' : 'http://blogs.msdn.com/b/bigdatasupport/', 'user' : 1121470, 'server' : '2', 'id' : 'clustrmaps-widget', 'version' : 1, 'date' : '2013-11-14', 'lang' : 'en', 'corners' : 'square' };(function (){ var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = 'http://www2.clustrmaps.com/counter/map.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);})();</script><noscript><a href="http://www2.clustrmaps.com/user/ab6111cbe"><img src="http://www2.clustrmaps.com/stats/maps-no_clusters/blogs.msdn.com-b-bigdatasupport--thumb.jpg" alt="Locations of visitors to this page" /></a></noscript></div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom MicrosoftBlue-content-fragment-bottom"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div></div></div>
<div class="content-fragment search-form no-wrapper-with-spacing with-header" id="fragment-153017">
<div class="content-fragment-inner MicrosoftBlue-content-fragment-inner"><div class="content-fragment-top MicrosoftBlue-content-fragment-top"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div><div class="content-fragment-header"><div>Search Form</div></div>
<div class="content-fragment-content">

<div class="field-list-header">
</div>
<fieldset class="field-list">
    <ul class="field-list">
        <li class="field-item search">
            <div style="display: none;" id="search-allblogs-container">
                <span class="field-item-input">
                    <input value="Search MSDN with Bing" style="color: rgb(170, 170, 170); font-style: italic;" title="Search MSDN with Bing" id="SearchTextBox_AllBlogs" name="SearchTextBox_AllBlogs" class="searchField" maxlength="64" size="45" autocomplete="off" type="text">
                    <input title="Search MSDN with Bing" id="SearchButton_AllBlogs" name="SearchButton_AllBlogs" class="search-button" type="button">
                <div style="display: none; text-align: left; border: 1px solid buttonshadow; position: absolute; z-index: 1000; padding: 2px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: MS Shell Dlg; font-size: 11px;" id="SearchFlyoutContainer"><div id="SuggestionContainer"><ul style="list-style: outside none none; padding: 4px 2px 0px 1px; cursor: pointer; margin: 1px; white-space: nowrap;"></ul></div></div></span>
            </div>
            <div id="search-thisblog-container">
                <span class="field-item-input">
                    <input value="Search MSDN with Bing" style="color: rgb(170, 170, 170); font-style: italic;" title="Search MSDN with Bing" id="SearchTextBox_ThisBlog" name="SearchTextBox_ThisBlog" class="searchField" maxlength="64" size="45" autocomplete="off" type="text">
                    <input title="Search MSDN with Bing" id="SearchButton_ThisBlog" name="SearchButton_ThisBlog" class="search-button" type="button">
                <div style="display: none; text-align: left; border: 1px solid buttonshadow; position: absolute; z-index: 1000; padding: 2px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: MS Shell Dlg; font-size: 11px;" id="SearchFlyoutContainer"><div id="SuggestionContainer"><ul style="list-style: outside none none; padding: 4px 2px 0px 1px; cursor: pointer; margin: 1px; white-space: nowrap;"></ul></div></div></span>
            </div>
        </li>
    </ul>
</fieldset>
<div class="field-list-footer">
    <div id="search-switch-container">
        <span style="display: inline-block">
            <input name="SearchTypeRadio" value="ThisBlog" id="ThisBlog" checked="checked" type="radio"><label for="ThisBlog" id="ThisBlogText">Search this blog</label></span>
        <span style="display: inline-block">
            <input name="SearchTypeRadio" value="AllBlogs" id="AllBlogs" type="radio"><label for="AllBlogs" id="AllBlogsText">Search all blogs</label></span>
    </div>
</div>
<script type="text/javascript">
var elmSearchAll = $('#search-allblogs-container').hide();
var elmSearchThis = $('#search-thisblog-container');

// try to get the blog id, if we fail, then we aren't on a blog and just use the regular search approach       
(16178 === -1) && $('#search-switch-container').hide();

$(document).ready(function() {
    $('#ThisBlog').click(function () {
        var self = $(this);
        if (self.is(':checked')) {
            elmSearchAll.hide();
            elmSearchThis.show();
        }
    });
    
    $('#AllBlogs').click(function () {
        var self = $(this);
        if (self.is(':checked')) {
            elmSearchThis.hide();
            elmSearchAll.show();
        }
    });
});
</script>
<script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/SearchBox.js" type="text/javascript" language="javascript"></script>
<script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/SearchBox_002.js" type="text/javascript" language="javascript"></script>
</div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom MicrosoftBlue-content-fragment-bottom"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div></div></div>
<div class="content-fragment tag-cloud no-wrapper-with-spacing with-header" id="fragment-153018">
<div class="content-fragment-inner MicrosoftBlue-content-fragment-inner"><div class="content-fragment-top MicrosoftBlue-content-fragment-top"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div><div class="content-fragment-header"><div>Tag Cloud</div></div>
<div class="content-fragment-content">
<div class="tag-list-header"></div><ul class="tag-list">
<li class="tag-item level-5"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Azim/" rel="tag">Azim</a></li>
<li class="tag-item level-5"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Azure/" rel="tag">Azure</a></li>
<li class="tag-item level-6"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Cluster+customization/" rel="tag">Cluster customization</a></li>
<li class="tag-item level-6"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Customization/" rel="tag">Customization</a></li>
<li class="tag-item level-3"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Dharshana/" rel="tag">Dharshana</a></li>
<li class="tag-item level-1"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Hadoop/" rel="tag">Hadoop</a></li>
<li class="tag-item level-6"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Hadoop+Configurations/" rel="tag">Hadoop Configurations</a></li>
<li class="tag-item level-5"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/HadoopCore/" rel="tag">HadoopCore</a></li>
<li class="tag-item level-1"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/HDInsight/" rel="tag">HDInsight</a></li>
<li class="tag-item level-2"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/HDInsight+SDK/" rel="tag">HDInsight SDK</a></li>
<li class="tag-item level-2"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Hive/" rel="tag">Hive</a></li>
<li class="tag-item level-6"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Hortonworks/" rel="tag">Hortonworks</a></li>
<li class="tag-item level-1"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/HowTo/" rel="tag">HowTo</a></li>
<li class="tag-item level-6"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/JasonH/" rel="tag">JasonH</a></li>
<li class="tag-item level-3"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Java/" rel="tag">Java</a></li>
<li class="tag-item level-6"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/MapReduce/" rel="tag">MapReduce</a></li>
<li class="tag-item level-5"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/MFarooq/" rel="tag">MFarooq</a></li>
<li class="tag-item level-2"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/News/" rel="tag">News</a></li>
<li class="tag-item level-6"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Node-js/" rel="tag">Node.js</a></li>
<li class="tag-item level-5"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Oozie/" rel="tag">Oozie</a></li>
<li class="tag-item level-6"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Parameters/" rel="tag">Parameters</a></li>
<li class="tag-item level-1"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Powershell/" rel="tag">Powershell</a></li>
<li class="tag-item level-3"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/SDK/" rel="tag">SDK</a></li>
<li class="tag-item level-3"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Sqoop/" rel="tag">Sqoop</a></li>
<li class="tag-item level-5"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/wcarroll/" rel="tag">wcarroll</a></li>
</ul>
<div class="tag-list-footer"></div>
</div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom MicrosoftBlue-content-fragment-bottom"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div></div></div>
<div class="content-fragment blog-archive-list no-wrapper-with-spacing with-header" id="fragment-153019">
<div class="content-fragment-inner MicrosoftBlue-content-fragment-inner"><div class="content-fragment-top MicrosoftBlue-content-fragment-top"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div><div class="content-fragment-header"><div>Monthly Archives</div></div>
<div class="content-fragment-content">

		<div class="content-list-header"></div>
		<div class="content-list-name">Archives</div>
		<ul class="content-list">
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="http://blogs.msdn.com/b/bigdatasupport/archive/2015/02.aspx">February 2015</a> (3)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="http://blogs.msdn.com/b/bigdatasupport/archive/2014/12.aspx">December 2014</a> (1)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="http://blogs.msdn.com/b/bigdatasupport/archive/2014/11.aspx">November 2014</a> (2)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="http://blogs.msdn.com/b/bigdatasupport/archive/2014/08.aspx">August 2014</a> (1)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="http://blogs.msdn.com/b/bigdatasupport/archive/2014/07.aspx">July 2014</a> (1)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="http://blogs.msdn.com/b/bigdatasupport/archive/2014/06.aspx">June 2014</a> (1)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="http://blogs.msdn.com/b/bigdatasupport/archive/2014/05.aspx">May 2014</a> (3)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="http://blogs.msdn.com/b/bigdatasupport/archive/2014/04.aspx">April 2014</a> (4)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="http://blogs.msdn.com/b/bigdatasupport/archive/2014/03.aspx">March 2014</a> (3)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="http://blogs.msdn.com/b/bigdatasupport/archive/2014/02.aspx">February 2014</a> (2)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="http://blogs.msdn.com/b/bigdatasupport/archive/2014/01.aspx">January 2014</a> (5)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="http://blogs.msdn.com/b/bigdatasupport/archive/2013/11.aspx">November 2013</a> (3)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="http://blogs.msdn.com/b/bigdatasupport/archive/2013/10.aspx">October 2013</a> (2)</li>
	
		</ul>
		<div class="content-list-footer"></div>
	
</div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom MicrosoftBlue-content-fragment-bottom"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div></div></div>
</div>
</div>
<div class="layout-region content" id="ctl00_content_ctl00_content">
<div class="layout-region-inner content"><div class="content-fragment blog-title full-border" id="fragment-153020">
<div class="content-fragment-inner MicrosoftBlue-content-fragment-inner"><div class="content-fragment-top MicrosoftBlue-content-fragment-top"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div><div class="content-fragment-content">
<h1 class="title">
	    
			        
			    
	                Customizing HDInsight Cluster provisioning 
			    
	</h1></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom MicrosoftBlue-content-fragment-bottom"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div></div></div>
<div class="content-fragment raw-html no-wrapper-with-spacing" id="fragment-153021">
<div class="content-fragment-inner MicrosoftBlue-content-fragment-inner"><div class="content-fragment-top MicrosoftBlue-content-fragment-top"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div><div class="content-fragment-content">
<div class="user-defined-markup"><a href="http://blogs.msdn.com/b/bigdatasupport"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/5153.png" alt="Big" data="" support="" team="" blog"="" border="0" width="100%"></a></div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom MicrosoftBlue-content-fragment-bottom"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div></div></div>
<div class="content-fragment blog-bread-crumbs no-wrapper-with-spacing" id="fragment-153022">
<div class="content-fragment-inner MicrosoftBlue-content-fragment-inner"><div class="content-fragment-top MicrosoftBlue-content-fragment-top"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div><div class="content-fragment-content">


<div class="breadcrumb-list-header"></div>
<div class="breadcrumb-list">
	<span class="breadcrumb-item"><a class="internal-link view-home" href="http://blogs.msdn.com/">MSDN Blogs</a></span>
  
	

	
			<span class="separator"> &gt; </span>
			<span class="breadcrumb-item">
		<a href="http://blogs.msdn.com/b/bigdatasupport/">Big Data Support</a>
			</span>
		
	
	
			<span class="separator"> &gt; </span>
			<span class="breadcrumb-item">
		<a href="http://blogs.msdn.com/b/bigdatasupport/archive/2014/04/15/customizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx">Customizing HDInsight Cluster provisioning </a>
			</span>
		

	
</div>
<div class="breadcrumb-list-footer"></div>
</div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom MicrosoftBlue-content-fragment-bottom"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div></div></div>
<div class="content-fragment blog-post no-wrapper-with-spacing" id="fragment-153023">
<div class="content-fragment-inner MicrosoftBlue-content-fragment-inner"><div class="content-fragment-top MicrosoftBlue-content-fragment-top"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div><div class="content-fragment-content">

<div class="full-post-header"></div>
<div class="full-post">
	<h3 class="post-name">Customizing HDInsight Cluster provisioning </h3>
	
	        <div class="post-rating">
	            Rate This<br>
	    <span class="rating readonly" id="ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl01" title="Rated Excellent [5 out of 5]."><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/star-left-on.png" style="border-width: 0px;" align="absmiddle" border="0"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/star-right-on.png" style="border-width: 0px;" align="absmiddle" border="0"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/star-left-on.png" style="border-width: 0px;" align="absmiddle" border="0"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/star-right-on.png" style="border-width: 0px;" align="absmiddle" border="0"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/star-left-on.png" style="border-width: 0px;" align="absmiddle" border="0"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/star-right-on.png" style="border-width: 0px;" align="absmiddle" border="0"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/star-left-on.png" style="border-width: 0px;" align="absmiddle" border="0"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/star-right-on.png" style="border-width: 0px;" align="absmiddle" border="0"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/star-left-on.png" style="border-width: 0px;" align="absmiddle" border="0"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/star-right-on.png" style="border-width: 0px;" align="absmiddle" border="0"></span><input value="5" id="ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl01_Value" type="hidden">
	        </div>
	    
    <div class="post-author">
        <span class="avatar"><a href="http://blogs.msdn.com/352248/ProfileUrlRedirect.ashx"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/avatar.jpg" alt="" style="border-width:0px;max-height:32px;max-width:32px;"></a></span>
        
        <span data-profile-rendered="true" class="profile-usercard-hover" data-profile-userid="6914edf0b4f246dc8c85b31805475cb0">
            <span class="user-name"><a class="internal-link view-user-profile" href="http://blogs.msdn.com/352248/ProfileUrlRedirect.ashx"><span></span>Azim Uddin</a></span>
            
        <div class="profile-usercard">            <div class="profile-header">                <span class="profile-userimage">                                            <img src="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAA0JCgsKCA0LCgsODg0PEyAVExISEyccHhcgLikxMC4pLSwzOko+MzZGNywtQFdBRkxOUlNSMj5aYVpQYEpRUk//2wBDAQ4ODhMREyYVFSZPNS01T09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0//wAARCAAmACwDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwC6yVTmlkE4gt4TLJjJA7VpMOaWyjME1xcCPcWRce/PNaVZOMbo3jG7sO0vS9TuCS4gjU9QTmmX9m1rOY5F2uOuPukdiKv2Wo3r20k9tbfNHgleTkVa1GGW+0+C9nUQyqjblI6+g/nWNKbvqOcbPTY54JTwlPC1l3rMLtwGIAxwD7CuqT5UZnZi30fqZY/xlpsgsI1/0SaJsggoJAc1o6bbxGwhJTnYO5HaqviG8g0zTHlG3zDhVUknOTzx9M1ySTkrNhGpyu5j2t5Mt4EVmWN22kDAz+ddBHMq2QW5jllG4rtEZc/jj+dcynmPLHJbSgKTkMBWpc6l9intlWRncOTL7jHes4O7SRtV2uXGlsIkLtp8yqoySbcgCros7NwG+yxnIzygpl5ILrS5vJBYvGdo7nircQxEoPYCtmpXOVSTV0c7PrElpbJBCgBC8sa5PWp5LpSZGJYtnJNFFaI+fdepKtq9maXhhRcaVMQzpJB1OchhjPSqU93LdXUcdviNEOSX+YsTjP8AKiiuagv3s/I78Ziq0aELS3udQkzrZ5BwVweKrNrlzExjXopxzRRXYzwlVnG1mf/Z" alt="Avatar of Azim Uddin">                                    </span>                <div>                    <p title="Azim Uddin" class="profile-display-name">Azim Uddin</p>                                    <p class="profile-company">Microsoft</p>                                    <p class="profile-affiliations">MSFT, Partner</p>                </div>            </div>            <div class="profile-points-bar">                <span class="profile-points">465<span class="points-label"> Points</span></span>                <span class="profile-count profile-bronze-points"><span class="profile-bronze-img" title="Achievements Earned"></span><span>8</span></span>                <span class="profile-count profile-silver-points"><span class="profile-silver-img" title="Achievements Earned"></span><span>0</span></span>                <span class="profile-count profile-gold-points"><span class="profile-gold-img" title="Achievements Earned"></span><span>0</span></span>                        </div>            <div class="profile-achievements-header">                <span class="profile-achievements-title">Recent Achievements</span>            </div>            <div class="profile-achievements-recent">                <div class="profile-achievements-centering">                                                                <span class="profile-achievement profile-achievement-Bronze"><span>New Blog Commentator</span></span>                                            <span class="profile-achievement profile-achievement-Bronze"><span>Forums Replies I</span></span>                                            <span class="profile-achievement profile-achievement-Bronze"><span>Code Answerer I</span></span>                                                            </div>            </div>            <div class="profile-footer">                                <a href="https://social.msdn.microsoft.com/profile/azim%20uddin/?ws=usercard-hover" class="profile-usercard-profileLink" target="_blank">View Profile</a>            </div>        </div></span>
    </div>
    <div class="post-date">
        <span class="value">
            15 Apr 2014 3:55 PM
        </span>
    </div>
    <div class="post-attributes">
        <div class="attribute-list-header"></div>
        <ul class="attribute-list">
             <li class="attribute-item post-reply-count">
                <span class="attribute-name">Comments</span>
                <span class="attribute-value"><a href="#comments" class="internal-link view-replies"><span></span>5</a></span>
             </li>
        </ul>
        <div class="attribute-list-footer"></div>
    </div>
    <div class="post-content user-defined-markup"><p>In my last <a href="http://blogs.msdn.com/b/bigdatasupport/archive/2014/02/13/how-to-pass-hadoop-configuration-values-for-a-job-via-hdinsight-powershell-and-net-sdk.aspx">blog</a>,
 I discussed how we can specify Hadoop configurations for a job on an 
HDInsight cluster. At the end of that blog, I also dicussed the 
alternative approach where you may want to change certain hadoop 
configurations from default values and would like to preserve the 
changes throughout the lifetime of the cluster because, may be,&nbsp;the
 configurations have worked quite well for your workload&nbsp;during 
testing and apply to most of your jobs– you can do this via cluster 
customization while creating the HDInsight cluster. This approach also 
fits well with 'elastic hadoop in the cloud' scenario where you would 
create a customized HDinsight cluster with specific configurations, run 
your workload and then remove the cluster. While creating my own 
customized cluster, I realized that it was not very obvious from our 
existing documentation what different customization options are 
available or how to use those without digging through the reference 
documentation. In this blog, I wanted to share a few examples (a 
Powershell script and a .Net SDK example) with various customization 
options that can be used during HDInsight cluster provisioning.</p>
<p><span style="font-size: medium;"><strong><em>Can&nbsp;we do it using Azure Portal? </em></strong></span></p>
<p>The short answer is, yes – but with limitations. As shown in our HDInsight <a href="http://azure.microsoft.com/en-us/documentation/articles/hdinsight-provision-clusters/">documentation</a>,
 we can create a customized HDInsight cluster via our Azure Portal, 
Windows Azure Powershell or HDInsight .Net SDK. While I personally like 
the Azure Portal most for its simplicity and ease of use, not all the 
customization options are available via the portal, as of today – for 
example, customizing Hadoop configuration files&nbsp;or adding 
additional libraries or JARs during cluster provisioing, as shown in 
this codeplex <a href="https://hadoopsdk.codeplex.com/wikipage?title=PowerShell%20Cmdlets%20for%20Cluster%20Management&amp;referringTitle=Home">example</a>.
 Also, the UI restricts us to a certain number of additional storage 
accounts we can specify on the portal. The Windows Azure Powershell or 
HDInsight .Net SDK don't have such limitations and with these tools, you
 can use all the available customization options. Another benefit is, 
you can reuse the PowerShell script or .Net SDK code and make it part of
 your workflow.</p>
<p>The chart below shows&nbsp;a summary of a few important 
customizations that are available via portal, PowerShell and .Net 
SDK&nbsp;-</p>
<p><a href="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-01-61-78/5460.ClusterCustomizationOptions.PNG"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/5460.PNG" alt="" border="0"></a></p>
<p><span style="font-size: medium;"><strong><em>Example using Windows Azure PowerShell: </em></strong></span></p>
<p>Here is a sample PowerShell script&nbsp;with examples of almost all 
the possible customization options during provisioning of a cluster. You
 can omit the customizations that you don't need.</p>
<script type="text/javascript" src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/0307dbf7d7e705cdc5e0.js"></script><link rel="stylesheet" href="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/embed-8bf0013c72fb64f0bb1bc1872b43e39e.css"><div id="gist11024326" class="gist">
        <div class="gist-file">
          <div class="gist-data gist-syntax">
            



    <div class="file-data">
      <table class="lines highlight" cellpadding="0" cellspacing="0">
        <tbody><tr>
          <td class="line-numbers">
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L1" rel="file-hdinsight_cluster_customization-ps1-L1">1</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L2" rel="file-hdinsight_cluster_customization-ps1-L2">2</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L3" rel="file-hdinsight_cluster_customization-ps1-L3">3</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L4" rel="file-hdinsight_cluster_customization-ps1-L4">4</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L5" rel="file-hdinsight_cluster_customization-ps1-L5">5</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L6" rel="file-hdinsight_cluster_customization-ps1-L6">6</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L7" rel="file-hdinsight_cluster_customization-ps1-L7">7</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L8" rel="file-hdinsight_cluster_customization-ps1-L8">8</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L9" rel="file-hdinsight_cluster_customization-ps1-L9">9</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L10" rel="file-hdinsight_cluster_customization-ps1-L10">10</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L11" rel="file-hdinsight_cluster_customization-ps1-L11">11</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L12" rel="file-hdinsight_cluster_customization-ps1-L12">12</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L13" rel="file-hdinsight_cluster_customization-ps1-L13">13</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L14" rel="file-hdinsight_cluster_customization-ps1-L14">14</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L15" rel="file-hdinsight_cluster_customization-ps1-L15">15</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L16" rel="file-hdinsight_cluster_customization-ps1-L16">16</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L17" rel="file-hdinsight_cluster_customization-ps1-L17">17</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L18" rel="file-hdinsight_cluster_customization-ps1-L18">18</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L19" rel="file-hdinsight_cluster_customization-ps1-L19">19</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L20" rel="file-hdinsight_cluster_customization-ps1-L20">20</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L21" rel="file-hdinsight_cluster_customization-ps1-L21">21</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L22" rel="file-hdinsight_cluster_customization-ps1-L22">22</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L23" rel="file-hdinsight_cluster_customization-ps1-L23">23</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L24" rel="file-hdinsight_cluster_customization-ps1-L24">24</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L25" rel="file-hdinsight_cluster_customization-ps1-L25">25</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L26" rel="file-hdinsight_cluster_customization-ps1-L26">26</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L27" rel="file-hdinsight_cluster_customization-ps1-L27">27</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L28" rel="file-hdinsight_cluster_customization-ps1-L28">28</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L29" rel="file-hdinsight_cluster_customization-ps1-L29">29</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L30" rel="file-hdinsight_cluster_customization-ps1-L30">30</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L31" rel="file-hdinsight_cluster_customization-ps1-L31">31</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L32" rel="file-hdinsight_cluster_customization-ps1-L32">32</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L33" rel="file-hdinsight_cluster_customization-ps1-L33">33</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L34" rel="file-hdinsight_cluster_customization-ps1-L34">34</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L35" rel="file-hdinsight_cluster_customization-ps1-L35">35</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L36" rel="file-hdinsight_cluster_customization-ps1-L36">36</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L37" rel="file-hdinsight_cluster_customization-ps1-L37">37</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L38" rel="file-hdinsight_cluster_customization-ps1-L38">38</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L39" rel="file-hdinsight_cluster_customization-ps1-L39">39</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L40" rel="file-hdinsight_cluster_customization-ps1-L40">40</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L41" rel="file-hdinsight_cluster_customization-ps1-L41">41</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L42" rel="file-hdinsight_cluster_customization-ps1-L42">42</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L43" rel="file-hdinsight_cluster_customization-ps1-L43">43</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L44" rel="file-hdinsight_cluster_customization-ps1-L44">44</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L45" rel="file-hdinsight_cluster_customization-ps1-L45">45</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L46" rel="file-hdinsight_cluster_customization-ps1-L46">46</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L47" rel="file-hdinsight_cluster_customization-ps1-L47">47</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L48" rel="file-hdinsight_cluster_customization-ps1-L48">48</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L49" rel="file-hdinsight_cluster_customization-ps1-L49">49</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L50" rel="file-hdinsight_cluster_customization-ps1-L50">50</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L51" rel="file-hdinsight_cluster_customization-ps1-L51">51</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L52" rel="file-hdinsight_cluster_customization-ps1-L52">52</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L53" rel="file-hdinsight_cluster_customization-ps1-L53">53</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L54" rel="file-hdinsight_cluster_customization-ps1-L54">54</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L55" rel="file-hdinsight_cluster_customization-ps1-L55">55</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L56" rel="file-hdinsight_cluster_customization-ps1-L56">56</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L57" rel="file-hdinsight_cluster_customization-ps1-L57">57</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L58" rel="file-hdinsight_cluster_customization-ps1-L58">58</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L59" rel="file-hdinsight_cluster_customization-ps1-L59">59</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L60" rel="file-hdinsight_cluster_customization-ps1-L60">60</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L61" rel="file-hdinsight_cluster_customization-ps1-L61">61</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L62" rel="file-hdinsight_cluster_customization-ps1-L62">62</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L63" rel="file-hdinsight_cluster_customization-ps1-L63">63</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L64" rel="file-hdinsight_cluster_customization-ps1-L64">64</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L65" rel="file-hdinsight_cluster_customization-ps1-L65">65</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L66" rel="file-hdinsight_cluster_customization-ps1-L66">66</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L67" rel="file-hdinsight_cluster_customization-ps1-L67">67</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L68" rel="file-hdinsight_cluster_customization-ps1-L68">68</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L69" rel="file-hdinsight_cluster_customization-ps1-L69">69</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L70" rel="file-hdinsight_cluster_customization-ps1-L70">70</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L71" rel="file-hdinsight_cluster_customization-ps1-L71">71</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L72" rel="file-hdinsight_cluster_customization-ps1-L72">72</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L73" rel="file-hdinsight_cluster_customization-ps1-L73">73</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L74" rel="file-hdinsight_cluster_customization-ps1-L74">74</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L75" rel="file-hdinsight_cluster_customization-ps1-L75">75</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L76" rel="file-hdinsight_cluster_customization-ps1-L76">76</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L77" rel="file-hdinsight_cluster_customization-ps1-L77">77</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L78" rel="file-hdinsight_cluster_customization-ps1-L78">78</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L79" rel="file-hdinsight_cluster_customization-ps1-L79">79</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L80" rel="file-hdinsight_cluster_customization-ps1-L80">80</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L81" rel="file-hdinsight_cluster_customization-ps1-L81">81</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L82" rel="file-hdinsight_cluster_customization-ps1-L82">82</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L83" rel="file-hdinsight_cluster_customization-ps1-L83">83</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L84" rel="file-hdinsight_cluster_customization-ps1-L84">84</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L85" rel="file-hdinsight_cluster_customization-ps1-L85">85</span>
            <span class="line-number" id="file-hdinsight_cluster_customization-ps1-L86" rel="file-hdinsight_cluster_customization-ps1-L86">86</span>
          </td>
          <td class="line-data">
            <pre class="line-pre"><div class="line" id="file-hdinsight_cluster_customization-ps1-LC1"><span class="pl-c"># 1. Ensure to install and Configure Windows Azure PowerShell from: </span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC2"><span class="pl-c"># http://azure.microsoft.com/en-us/documentation/articles/install-configure-powershell/</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC3">&nbsp;
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC4"><span class="pl-c">#2. Then use the following script or part of it, as needed</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC5"><span class="pl-c"># The script shows various possible customizations - you can omit the customizations you don't need</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC6">&nbsp;
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC7"><span class="pl-vo">$MyClusterName</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">"</span>YourClusterName<span class="pl-pds">"</span></span>;
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC8"><span class="pl-vo">$MyClusterLocation</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">"</span>West US<span class="pl-pds">"</span></span>;  #change region to what you want
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC9"><span class="pl-vo">$NumClusterNodes</span> <span class="pl-k">=</span> <span class="pl-c1">4</span>;   # Change number of Nodes <span class="pl-k">as</span> necessary
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC10"><span class="pl-vo">$MyClusterVersion</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">"</span>3.0<span class="pl-pds">"</span></span>; # change version <span class="pl-k">if</span> needed
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC11"><span class="pl-vo">$MyHDInsightUserName</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">"</span>HDInsightUsername<span class="pl-pds">"</span></span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC12"><span class="pl-vo">$MyHDInsightPwd</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">"</span>HDInsightPwd<span class="pl-pds">"</span></span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC13"><span class="pl-vo">$MySqlAzureUserName</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">"</span>SqlAzureUserName<span class="pl-pds">"</span></span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC14"><span class="pl-vo">$MySqlAzurePwd</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">"</span>SqlAzurePwd<span class="pl-pds">"</span></span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC15"><span class="pl-vo">$MySqlAzureServerName</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">"</span>SqlAzureServerName.database.windows.net<span class="pl-pds">"</span></span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC16"><span class="pl-vo">$MySqlAzureDbName</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">"</span>MyAzureDb1<span class="pl-pds">"</span></span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC17"><span class="pl-vo">$MySqlAzureDbName2</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">"</span>MyAzureDb2<span class="pl-pds">"</span></span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC18"><span class="pl-vo">$MyDefaultContainerName</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">"</span>testcontainer<span class="pl-pds">"</span></span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC19">&nbsp;
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC20"><span class="pl-c">#</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC21"><span class="pl-c">## Change the Storage account Name accordingly</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC22"><span class="pl-vo">$DefaultStorageAccountFqdn</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">"</span>asv1.blob.core.windows.net<span class="pl-pds">"</span></span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC23"><span class="pl-vo">$SecondStorageAccountFqdn</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">"</span>asv2.blob.core.windows.net<span class="pl-pds">"</span></span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC24"><span class="pl-vo">$HiveLibContainerName</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">"</span>myhivelibs<span class="pl-pds">"</span></span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC25">&nbsp;
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC26"><span class="pl-vo">$key1</span> <span class="pl-k">=</span> <span class="pl-k"><span class="pl-k">Get-AzureStorageKey</span></span> <span class="pl-s1"><span class="pl-pds">"</span>asv1<span class="pl-pds">"</span></span> <span class="pl-k">|</span> <span class="pl-k">%</span>{ <span class="pl-vo">$_</span>.Primary }
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC27"><span class="pl-vo">$key2</span> <span class="pl-k">=</span> <span class="pl-k"><span class="pl-k">Get-AzureStorageKey</span></span> <span class="pl-s1"><span class="pl-pds">"</span>asv2<span class="pl-pds">"</span></span> <span class="pl-k">|</span> <span class="pl-k">%</span>{ <span class="pl-vo">$_</span>.Primary }
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC28">&nbsp;
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC29"><span class="pl-vo">$HdInsightPwd</span> <span class="pl-k">=</span> <span class="pl-k"><span class="pl-k">ConvertTo-SecureString</span></span> <span class="pl-vo">$MyHDInsightPwd</span> <span class="pl-k">-</span>AsPlainText <span class="pl-k">-</span>Force
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC30"><span class="pl-vo">$HdInsightCreds</span> <span class="pl-k">=</span> <span class="pl-k"><span class="pl-k">New-Object</span></span> System.Management.Automation.PSCredential (<span class="pl-vo">$MyHDInsightUserName</span>, <span class="pl-vo">$HdInsightPwd</span>)
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC31"><span class="pl-vo">$SqlAzurePwd</span> <span class="pl-k">=</span> <span class="pl-k"><span class="pl-k">ConvertTo-SecureString</span></span> <span class="pl-vo">$MySqlAzurePwd</span> <span class="pl-k">-</span>AsPlainText <span class="pl-k">-</span>Force
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC32"><span class="pl-vo">$SqlAzureCreds</span> <span class="pl-k">=</span> <span class="pl-k"><span class="pl-k">New-Object</span></span> System.Management.Automation.PSCredential (<span class="pl-vo">$MySqlAzureUserName</span>, <span class="pl-vo">$SqlAzurePwd</span>)
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC33">&nbsp;
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC34"><span class="pl-c"># Hadoop configuration files</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC35"><span class="pl-c"># Don't focus on a speific configuration, this is just for example</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC36">&nbsp;
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC37"><span class="pl-c"># hdfs-site.xml configuration</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC38"><span class="pl-vo">$HdfsConfigValues</span> <span class="pl-k">=</span> @{ <span class="pl-s1"><span class="pl-pds">"</span>dfs.blocksize<span class="pl-pds">"</span></span><span class="pl-k">=</span><span class="pl-s1"><span class="pl-pds">"</span>64m<span class="pl-pds">"</span></span> } #default <span class="pl-k">is</span> <span class="pl-c1">128</span>MB <span class="pl-k">in</span> HDI <span class="pl-c1">3.0</span> <span class="pl-k">and</span> <span class="pl-c1">256</span>MB <span class="pl-k">in</span> HDI <span class="pl-c1">2.1</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC39"> 
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC40"><span class="pl-c"># core-site.xml configuration</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC41"><span class="pl-vo">$CoreConfigValues</span> <span class="pl-k">=</span> @{ <span class="pl-s1"><span class="pl-pds">"</span>ipc.client.connect.max.retries<span class="pl-pds">"</span></span><span class="pl-k">=</span><span class="pl-s1"><span class="pl-pds">"</span>60<span class="pl-pds">"</span></span> } #default <span class="pl-c1">50</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC42">&nbsp;
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC43"><span class="pl-c">#</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC44"><span class="pl-c"># NOTE on capacity-scheduler.xml:</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC45"><span class="pl-c"># Remember that, Capacity-scheduler is part of MapReduce in HDInsight 2.x and Yarn in HDInsight 3.x</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC46"><span class="pl-c"># Accordingly, in HDInsight PowerShell, capacity-scheduler.xml configurations can be set via -</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC47"><span class="pl-c"># 1. -Yarn parameter, which is a HashTable (for HDI 3.x clusters) </span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC48"><span class="pl-c"># 2. CapacitySchedulerConfiguration property of -MapReduce parameter (for HDI 2.x or eariler clusters)</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC49"><span class="pl-c">#</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC50">&nbsp;
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC51"><span class="pl-c"># mapred-site.xml configuration</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC52"><span class="pl-vo">$MapRedConfigValues</span> <span class="pl-k">=</span> <span class="pl-k"><span class="pl-k">new-object</span></span> <span class="pl-s1"><span class="pl-pds">'</span>Microsoft.WindowsAzure.Management.HDInsight.Cmdlet.DataObjects.AzureHDInsightMapReduceConfiguration<span class="pl-pds">'</span></span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC53"><span class="pl-vo">$MapRedConfigValues</span>.Configuration <span class="pl-k">=</span> @{ <span class="pl-s1"><span class="pl-pds">"</span>mapreduce.task.timeout<span class="pl-pds">"</span></span><span class="pl-k">=</span><span class="pl-s1"><span class="pl-pds">"</span>1200000<span class="pl-pds">"</span></span> } #default <span class="pl-c1">600000</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC54">&nbsp;
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC55"><span class="pl-c"># capacity-scheduler.xml configuration in HDI 2.x</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC56"><span class="pl-c">#$MapRedConfigValues.CapacitySchedulerConfiguration = @{ "mapred.capacity-scheduler.maximum-system-jobs"="3100" } #default 3000</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC57"> 
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC58"><span class="pl-c"># oozie-site.xml configuration</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC59"><span class="pl-vo">$OozieConfigValues</span> <span class="pl-k">=</span> <span class="pl-k"><span class="pl-k">new-object</span></span> <span class="pl-s1"><span class="pl-pds">'</span>Microsoft.WindowsAzure.Management.HDInsight.Cmdlet.DataObjects.AzureHDInsightOozieConfiguration<span class="pl-pds">'</span></span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC60"><span class="pl-vo">$OozieConfigValues</span>.Configuration <span class="pl-k">=</span> @{ <span class="pl-s1"><span class="pl-pds">"</span>oozie.service.coord.normal.default.timeout<span class="pl-pds">"</span></span><span class="pl-k">=</span><span class="pl-s1"><span class="pl-pds">"</span>150<span class="pl-pds">"</span></span> }  # default <span class="pl-c1">120</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC61"> 
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC62"><span class="pl-c"># hive-site.xml configuration </span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC63"><span class="pl-vo">$HiveConfigValues</span> <span class="pl-k">=</span> <span class="pl-k"><span class="pl-k">new-object</span></span> <span class="pl-s1"><span class="pl-pds">'</span>Microsoft.WindowsAzure.Management.HDInsight.Cmdlet.DataObjects.AzureHDInsightHiveConfiguration<span class="pl-pds">'</span></span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC64"><span class="pl-vo">$HiveConfigValues</span>.Configuration <span class="pl-k">=</span> @{ <span class="pl-s1"><span class="pl-pds">"</span>hive.metastore.client.socket.timeout<span class="pl-pds">"</span></span><span class="pl-k">=</span><span class="pl-s1"><span class="pl-pds">"</span>90<span class="pl-pds">"</span></span> } #default <span class="pl-c1">60</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC65"> 
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC66"><span class="pl-c"># Hive Additional libraries, we can do the same for Oozie Additional Libraries</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC67"><span class="pl-vo">$HiveConfigValues</span>.AdditionalLibraries <span class="pl-k">=</span> <span class="pl-k"><span class="pl-k">new-object</span></span> <span class="pl-s1"><span class="pl-pds">'</span>Microsoft.WindowsAzure.Management.HDInsight.Cmdlet.DataObjects.AzureHDInsightDefaultStorageAccount<span class="pl-pds">'</span></span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC68"><span class="pl-vo">$HiveConfigValues</span>.AdditionalLibraries.StorageAccountName <span class="pl-k">=</span> <span class="pl-vo">$DefaultStorageAccountFqdn</span>  
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC69"><span class="pl-vo">$HiveConfigValues</span>.AdditionalLibraries.StorageAccountKey <span class="pl-k">=</span> <span class="pl-vo">$key1</span> 
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC70"><span class="pl-vo">$HiveConfigValues</span>.AdditionalLibraries.StorageContainerName <span class="pl-k">=</span> <span class="pl-vo">$HiveLibContainerName</span> 
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC71">&nbsp;
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC72"><span class="pl-c"># In HDI 3.x, both yarn-site.xml and capacity-scheduler.xml configurations can be changed via -Yarn HashTable parameter</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC73"><span class="pl-c"># In the example below, configuration element 'yarn.nodemanager.resource.memory-mb' belongs to yarn-site.xml and </span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC74"><span class="pl-c"># 'yarn.scheduler.capacity.root.joblauncher.maximum-capacity' belongs to capacity-scheduler.xml</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC75"><span class="pl-vo">$YarnConfigValues</span> <span class="pl-k">=</span> @{<span class="pl-s1"><span class="pl-pds">"</span>yarn.nodemanager.resource.memory-mb<span class="pl-pds">"</span></span><span class="pl-k">=</span><span class="pl-s1"><span class="pl-pds">"</span>6200<span class="pl-pds">"</span></span>;<span class="pl-s1"><span class="pl-pds">"</span>yarn.scheduler.capacity.root.joblauncher.maximum-capacity<span class="pl-pds">"</span></span><span class="pl-k">=</span><span class="pl-s1"><span class="pl-pds">"</span>60<span class="pl-pds">"</span></span>;}
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC76"> 
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC77"> 
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC78"><span class="pl-c"># Create cluster </span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC79"><span class="pl-k"><span class="pl-k">New-AzureHDInsightClusterConfig</span></span> <span class="pl-k">-</span>ClusterSizeInNodes <span class="pl-vo">$NumClusterNodes</span> <span class="pl-k">|</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC80">    <span class="pl-k"><span class="pl-k">Set-AzureHDInsightDefaultStorage</span></span> <span class="pl-k">-</span>StorageAccountName <span class="pl-vo">$DefaultStorageAccountFqdn</span> <span class="pl-k">-</span>StorageAccountKey <span class="pl-vo">$key1</span> <span class="pl-k">-</span>StorageContainerName <span class="pl-vo">$MyDefaultContainerName</span> <span class="pl-k">|</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC81">    <span class="pl-k"><span class="pl-k">Add-AzureHDInsightStorage</span></span> <span class="pl-k">-</span>StorageAccountName <span class="pl-vo">$SecondStorageAccountFqdn</span> <span class="pl-k">-</span>StorageAccountKey <span class="pl-vo">$key2</span> <span class="pl-k">|</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC82">    <span class="pl-k"><span class="pl-k">Add-AzureHDInsightStorage</span></span> <span class="pl-k">-</span>StorageAccountName <span class="pl-vo">$ThirdStorageAccountFqdn</span> <span class="pl-k">-</span>StorageAccountKey <span class="pl-vo">$key3</span> <span class="pl-k">|</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC83">    <span class="pl-k"><span class="pl-k">Add-AzureHDInsightMetastore</span></span> <span class="pl-k">-</span>SqlAzureServerName <span class="pl-vo">$MySqlAzureServerName</span> <span class="pl-k">-</span>DatabaseName <span class="pl-vo">$MySqlAzureDbName2</span> <span class="pl-k">-</span>Credential <span class="pl-vo">$SqlAzureCreds</span> <span class="pl-k">-</span>MetastoreType OozieMetastore <span class="pl-k">|</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC84">    <span class="pl-k"><span class="pl-k">Add-AzureHDInsightMetastore</span></span> <span class="pl-k">-</span>SqlAzureServerName <span class="pl-vo">$MySqlAzureServerName</span> <span class="pl-k">-</span>DatabaseName <span class="pl-vo">$MySqlAzureDbName</span> <span class="pl-k">-</span>Credential <span class="pl-vo">$SqlAzureCreds</span> <span class="pl-k">-</span>MetastoreType HiveMetastore <span class="pl-k">|</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC85">    <span class="pl-k"><span class="pl-k">Add-AzureHDInsightConfigValues</span></span> <span class="pl-k">-</span>Hdfs <span class="pl-vo">$HdfsConfigValues</span> <span class="pl-k">-</span>Core <span class="pl-vo">$CoreConfigValues</span> <span class="pl-k">-</span>Hive <span class="pl-vo">$HiveConfigValues</span> <span class="pl-k">-</span>MapReduce <span class="pl-vo">$MapRedConfigValues</span> <span class="pl-k">-</span>Oozie <span class="pl-vo">$OozieConfigValues</span> <span class="pl-k">-</span>Yarn <span class="pl-vo">$YarnConfigValues</span> <span class="pl-k">|</span>
</div><div class="line" id="file-hdinsight_cluster_customization-ps1-LC86">    <span class="pl-k"><span class="pl-k">New-AzureHDInsightCluster</span></span> <span class="pl-k">-</span>Credential <span class="pl-vo">$HdInsightCreds</span> <span class="pl-k">-</span>Name <span class="pl-vo">$MyClusterName</span> <span class="pl-k">-</span>Location <span class="pl-vo">$MyClusterLocation</span> <span class="pl-k">-</span>Version <span class="pl-vo">$MyClusterVersion</span>
</div></pre>
          </td>
        </tr>
      </tbody></table>
    </div>

          </div>
          <div class="gist-meta">
            <a href="https://gist.github.com/AzimUddin/0307dbf7d7e705cdc5e0/raw/HDInsight_Cluster_Customization.ps1" style="float:right">view raw</a>
            <a href="https://gist.github.com/AzimUddin/0307dbf7d7e705cdc5e0#file-hdinsight_cluster_customization-ps1">HDInsight_Cluster_Customization.ps1</a>
            hosted with ❤ by <a href="https://github.com/">GitHub</a>
          </div>
        </div>
</div>

<p>&nbsp;</p>
<p><span style="font-size: medium;"><strong><em>Example using HDInsight .Net SDK: </em></strong></span></p>
<p><span style="font-size: small;">Here is an equivalent cluster customization sample with HDInsight .Net SDK. Like before, omit the customizations you don't need.</span></p>
<script type="text/javascript" src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/11025548.js"></script><link rel="stylesheet" href="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/embed-8bf0013c72fb64f0bb1bc1872b43e39e.css"><div id="gist11025548" class="gist">
        <div class="gist-file">
          <div class="gist-data gist-syntax">
            



    <div class="file-data">
      <table class="lines highlight" cellpadding="0" cellspacing="0">
        <tbody><tr>
          <td class="line-numbers">
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L1" rel="file-hdinsight_cluster_customization_via_sdk-cs-L1">1</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L2" rel="file-hdinsight_cluster_customization_via_sdk-cs-L2">2</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L3" rel="file-hdinsight_cluster_customization_via_sdk-cs-L3">3</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L4" rel="file-hdinsight_cluster_customization_via_sdk-cs-L4">4</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L5" rel="file-hdinsight_cluster_customization_via_sdk-cs-L5">5</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L6" rel="file-hdinsight_cluster_customization_via_sdk-cs-L6">6</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L7" rel="file-hdinsight_cluster_customization_via_sdk-cs-L7">7</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L8" rel="file-hdinsight_cluster_customization_via_sdk-cs-L8">8</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L9" rel="file-hdinsight_cluster_customization_via_sdk-cs-L9">9</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L10" rel="file-hdinsight_cluster_customization_via_sdk-cs-L10">10</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L11" rel="file-hdinsight_cluster_customization_via_sdk-cs-L11">11</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L12" rel="file-hdinsight_cluster_customization_via_sdk-cs-L12">12</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L13" rel="file-hdinsight_cluster_customization_via_sdk-cs-L13">13</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L14" rel="file-hdinsight_cluster_customization_via_sdk-cs-L14">14</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L15" rel="file-hdinsight_cluster_customization_via_sdk-cs-L15">15</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L16" rel="file-hdinsight_cluster_customization_via_sdk-cs-L16">16</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L17" rel="file-hdinsight_cluster_customization_via_sdk-cs-L17">17</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L18" rel="file-hdinsight_cluster_customization_via_sdk-cs-L18">18</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L19" rel="file-hdinsight_cluster_customization_via_sdk-cs-L19">19</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L20" rel="file-hdinsight_cluster_customization_via_sdk-cs-L20">20</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L21" rel="file-hdinsight_cluster_customization_via_sdk-cs-L21">21</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L22" rel="file-hdinsight_cluster_customization_via_sdk-cs-L22">22</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L23" rel="file-hdinsight_cluster_customization_via_sdk-cs-L23">23</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L24" rel="file-hdinsight_cluster_customization_via_sdk-cs-L24">24</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L25" rel="file-hdinsight_cluster_customization_via_sdk-cs-L25">25</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L26" rel="file-hdinsight_cluster_customization_via_sdk-cs-L26">26</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L27" rel="file-hdinsight_cluster_customization_via_sdk-cs-L27">27</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L28" rel="file-hdinsight_cluster_customization_via_sdk-cs-L28">28</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L29" rel="file-hdinsight_cluster_customization_via_sdk-cs-L29">29</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L30" rel="file-hdinsight_cluster_customization_via_sdk-cs-L30">30</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L31" rel="file-hdinsight_cluster_customization_via_sdk-cs-L31">31</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L32" rel="file-hdinsight_cluster_customization_via_sdk-cs-L32">32</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L33" rel="file-hdinsight_cluster_customization_via_sdk-cs-L33">33</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L34" rel="file-hdinsight_cluster_customization_via_sdk-cs-L34">34</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L35" rel="file-hdinsight_cluster_customization_via_sdk-cs-L35">35</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L36" rel="file-hdinsight_cluster_customization_via_sdk-cs-L36">36</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L37" rel="file-hdinsight_cluster_customization_via_sdk-cs-L37">37</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L38" rel="file-hdinsight_cluster_customization_via_sdk-cs-L38">38</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L39" rel="file-hdinsight_cluster_customization_via_sdk-cs-L39">39</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L40" rel="file-hdinsight_cluster_customization_via_sdk-cs-L40">40</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L41" rel="file-hdinsight_cluster_customization_via_sdk-cs-L41">41</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L42" rel="file-hdinsight_cluster_customization_via_sdk-cs-L42">42</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L43" rel="file-hdinsight_cluster_customization_via_sdk-cs-L43">43</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L44" rel="file-hdinsight_cluster_customization_via_sdk-cs-L44">44</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L45" rel="file-hdinsight_cluster_customization_via_sdk-cs-L45">45</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L46" rel="file-hdinsight_cluster_customization_via_sdk-cs-L46">46</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L47" rel="file-hdinsight_cluster_customization_via_sdk-cs-L47">47</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L48" rel="file-hdinsight_cluster_customization_via_sdk-cs-L48">48</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L49" rel="file-hdinsight_cluster_customization_via_sdk-cs-L49">49</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L50" rel="file-hdinsight_cluster_customization_via_sdk-cs-L50">50</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L51" rel="file-hdinsight_cluster_customization_via_sdk-cs-L51">51</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L52" rel="file-hdinsight_cluster_customization_via_sdk-cs-L52">52</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L53" rel="file-hdinsight_cluster_customization_via_sdk-cs-L53">53</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L54" rel="file-hdinsight_cluster_customization_via_sdk-cs-L54">54</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L55" rel="file-hdinsight_cluster_customization_via_sdk-cs-L55">55</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L56" rel="file-hdinsight_cluster_customization_via_sdk-cs-L56">56</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L57" rel="file-hdinsight_cluster_customization_via_sdk-cs-L57">57</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L58" rel="file-hdinsight_cluster_customization_via_sdk-cs-L58">58</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L59" rel="file-hdinsight_cluster_customization_via_sdk-cs-L59">59</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L60" rel="file-hdinsight_cluster_customization_via_sdk-cs-L60">60</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L61" rel="file-hdinsight_cluster_customization_via_sdk-cs-L61">61</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L62" rel="file-hdinsight_cluster_customization_via_sdk-cs-L62">62</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L63" rel="file-hdinsight_cluster_customization_via_sdk-cs-L63">63</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L64" rel="file-hdinsight_cluster_customization_via_sdk-cs-L64">64</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L65" rel="file-hdinsight_cluster_customization_via_sdk-cs-L65">65</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L66" rel="file-hdinsight_cluster_customization_via_sdk-cs-L66">66</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L67" rel="file-hdinsight_cluster_customization_via_sdk-cs-L67">67</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L68" rel="file-hdinsight_cluster_customization_via_sdk-cs-L68">68</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L69" rel="file-hdinsight_cluster_customization_via_sdk-cs-L69">69</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L70" rel="file-hdinsight_cluster_customization_via_sdk-cs-L70">70</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L71" rel="file-hdinsight_cluster_customization_via_sdk-cs-L71">71</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L72" rel="file-hdinsight_cluster_customization_via_sdk-cs-L72">72</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L73" rel="file-hdinsight_cluster_customization_via_sdk-cs-L73">73</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L74" rel="file-hdinsight_cluster_customization_via_sdk-cs-L74">74</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L75" rel="file-hdinsight_cluster_customization_via_sdk-cs-L75">75</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L76" rel="file-hdinsight_cluster_customization_via_sdk-cs-L76">76</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L77" rel="file-hdinsight_cluster_customization_via_sdk-cs-L77">77</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L78" rel="file-hdinsight_cluster_customization_via_sdk-cs-L78">78</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L79" rel="file-hdinsight_cluster_customization_via_sdk-cs-L79">79</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L80" rel="file-hdinsight_cluster_customization_via_sdk-cs-L80">80</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L81" rel="file-hdinsight_cluster_customization_via_sdk-cs-L81">81</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L82" rel="file-hdinsight_cluster_customization_via_sdk-cs-L82">82</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L83" rel="file-hdinsight_cluster_customization_via_sdk-cs-L83">83</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L84" rel="file-hdinsight_cluster_customization_via_sdk-cs-L84">84</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L85" rel="file-hdinsight_cluster_customization_via_sdk-cs-L85">85</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L86" rel="file-hdinsight_cluster_customization_via_sdk-cs-L86">86</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L87" rel="file-hdinsight_cluster_customization_via_sdk-cs-L87">87</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L88" rel="file-hdinsight_cluster_customization_via_sdk-cs-L88">88</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L89" rel="file-hdinsight_cluster_customization_via_sdk-cs-L89">89</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L90" rel="file-hdinsight_cluster_customization_via_sdk-cs-L90">90</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L91" rel="file-hdinsight_cluster_customization_via_sdk-cs-L91">91</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L92" rel="file-hdinsight_cluster_customization_via_sdk-cs-L92">92</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L93" rel="file-hdinsight_cluster_customization_via_sdk-cs-L93">93</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L94" rel="file-hdinsight_cluster_customization_via_sdk-cs-L94">94</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L95" rel="file-hdinsight_cluster_customization_via_sdk-cs-L95">95</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L96" rel="file-hdinsight_cluster_customization_via_sdk-cs-L96">96</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L97" rel="file-hdinsight_cluster_customization_via_sdk-cs-L97">97</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L98" rel="file-hdinsight_cluster_customization_via_sdk-cs-L98">98</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L99" rel="file-hdinsight_cluster_customization_via_sdk-cs-L99">99</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L100" rel="file-hdinsight_cluster_customization_via_sdk-cs-L100">100</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L101" rel="file-hdinsight_cluster_customization_via_sdk-cs-L101">101</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L102" rel="file-hdinsight_cluster_customization_via_sdk-cs-L102">102</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L103" rel="file-hdinsight_cluster_customization_via_sdk-cs-L103">103</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L104" rel="file-hdinsight_cluster_customization_via_sdk-cs-L104">104</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L105" rel="file-hdinsight_cluster_customization_via_sdk-cs-L105">105</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L106" rel="file-hdinsight_cluster_customization_via_sdk-cs-L106">106</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L107" rel="file-hdinsight_cluster_customization_via_sdk-cs-L107">107</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L108" rel="file-hdinsight_cluster_customization_via_sdk-cs-L108">108</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L109" rel="file-hdinsight_cluster_customization_via_sdk-cs-L109">109</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L110" rel="file-hdinsight_cluster_customization_via_sdk-cs-L110">110</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L111" rel="file-hdinsight_cluster_customization_via_sdk-cs-L111">111</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L112" rel="file-hdinsight_cluster_customization_via_sdk-cs-L112">112</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L113" rel="file-hdinsight_cluster_customization_via_sdk-cs-L113">113</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L114" rel="file-hdinsight_cluster_customization_via_sdk-cs-L114">114</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L115" rel="file-hdinsight_cluster_customization_via_sdk-cs-L115">115</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L116" rel="file-hdinsight_cluster_customization_via_sdk-cs-L116">116</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L117" rel="file-hdinsight_cluster_customization_via_sdk-cs-L117">117</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L118" rel="file-hdinsight_cluster_customization_via_sdk-cs-L118">118</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L119" rel="file-hdinsight_cluster_customization_via_sdk-cs-L119">119</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L120" rel="file-hdinsight_cluster_customization_via_sdk-cs-L120">120</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L121" rel="file-hdinsight_cluster_customization_via_sdk-cs-L121">121</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L122" rel="file-hdinsight_cluster_customization_via_sdk-cs-L122">122</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L123" rel="file-hdinsight_cluster_customization_via_sdk-cs-L123">123</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L124" rel="file-hdinsight_cluster_customization_via_sdk-cs-L124">124</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L125" rel="file-hdinsight_cluster_customization_via_sdk-cs-L125">125</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L126" rel="file-hdinsight_cluster_customization_via_sdk-cs-L126">126</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L127" rel="file-hdinsight_cluster_customization_via_sdk-cs-L127">127</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L128" rel="file-hdinsight_cluster_customization_via_sdk-cs-L128">128</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L129" rel="file-hdinsight_cluster_customization_via_sdk-cs-L129">129</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L130" rel="file-hdinsight_cluster_customization_via_sdk-cs-L130">130</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L131" rel="file-hdinsight_cluster_customization_via_sdk-cs-L131">131</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L132" rel="file-hdinsight_cluster_customization_via_sdk-cs-L132">132</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L133" rel="file-hdinsight_cluster_customization_via_sdk-cs-L133">133</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L134" rel="file-hdinsight_cluster_customization_via_sdk-cs-L134">134</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L135" rel="file-hdinsight_cluster_customization_via_sdk-cs-L135">135</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L136" rel="file-hdinsight_cluster_customization_via_sdk-cs-L136">136</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L137" rel="file-hdinsight_cluster_customization_via_sdk-cs-L137">137</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L138" rel="file-hdinsight_cluster_customization_via_sdk-cs-L138">138</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L139" rel="file-hdinsight_cluster_customization_via_sdk-cs-L139">139</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L140" rel="file-hdinsight_cluster_customization_via_sdk-cs-L140">140</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L141" rel="file-hdinsight_cluster_customization_via_sdk-cs-L141">141</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L142" rel="file-hdinsight_cluster_customization_via_sdk-cs-L142">142</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L143" rel="file-hdinsight_cluster_customization_via_sdk-cs-L143">143</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L144" rel="file-hdinsight_cluster_customization_via_sdk-cs-L144">144</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L145" rel="file-hdinsight_cluster_customization_via_sdk-cs-L145">145</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L146" rel="file-hdinsight_cluster_customization_via_sdk-cs-L146">146</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L147" rel="file-hdinsight_cluster_customization_via_sdk-cs-L147">147</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L148" rel="file-hdinsight_cluster_customization_via_sdk-cs-L148">148</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L149" rel="file-hdinsight_cluster_customization_via_sdk-cs-L149">149</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L150" rel="file-hdinsight_cluster_customization_via_sdk-cs-L150">150</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L151" rel="file-hdinsight_cluster_customization_via_sdk-cs-L151">151</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L152" rel="file-hdinsight_cluster_customization_via_sdk-cs-L152">152</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L153" rel="file-hdinsight_cluster_customization_via_sdk-cs-L153">153</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L154" rel="file-hdinsight_cluster_customization_via_sdk-cs-L154">154</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L155" rel="file-hdinsight_cluster_customization_via_sdk-cs-L155">155</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L156" rel="file-hdinsight_cluster_customization_via_sdk-cs-L156">156</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L157" rel="file-hdinsight_cluster_customization_via_sdk-cs-L157">157</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L158" rel="file-hdinsight_cluster_customization_via_sdk-cs-L158">158</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L159" rel="file-hdinsight_cluster_customization_via_sdk-cs-L159">159</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L160" rel="file-hdinsight_cluster_customization_via_sdk-cs-L160">160</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L161" rel="file-hdinsight_cluster_customization_via_sdk-cs-L161">161</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L162" rel="file-hdinsight_cluster_customization_via_sdk-cs-L162">162</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L163" rel="file-hdinsight_cluster_customization_via_sdk-cs-L163">163</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L164" rel="file-hdinsight_cluster_customization_via_sdk-cs-L164">164</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L165" rel="file-hdinsight_cluster_customization_via_sdk-cs-L165">165</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L166" rel="file-hdinsight_cluster_customization_via_sdk-cs-L166">166</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L167" rel="file-hdinsight_cluster_customization_via_sdk-cs-L167">167</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L168" rel="file-hdinsight_cluster_customization_via_sdk-cs-L168">168</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L169" rel="file-hdinsight_cluster_customization_via_sdk-cs-L169">169</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L170" rel="file-hdinsight_cluster_customization_via_sdk-cs-L170">170</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L171" rel="file-hdinsight_cluster_customization_via_sdk-cs-L171">171</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L172" rel="file-hdinsight_cluster_customization_via_sdk-cs-L172">172</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L173" rel="file-hdinsight_cluster_customization_via_sdk-cs-L173">173</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L174" rel="file-hdinsight_cluster_customization_via_sdk-cs-L174">174</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L175" rel="file-hdinsight_cluster_customization_via_sdk-cs-L175">175</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L176" rel="file-hdinsight_cluster_customization_via_sdk-cs-L176">176</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L177" rel="file-hdinsight_cluster_customization_via_sdk-cs-L177">177</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L178" rel="file-hdinsight_cluster_customization_via_sdk-cs-L178">178</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L179" rel="file-hdinsight_cluster_customization_via_sdk-cs-L179">179</span>
            <span class="line-number" id="file-hdinsight_cluster_customization_via_sdk-cs-L180" rel="file-hdinsight_cluster_customization_via_sdk-cs-L180">180</span>
          </td>
          <td class="line-data">
            <pre class="line-pre"><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC1"><span class="pl-c">/*1. Create a Visual studio 2012 Project.</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC2"><span class="pl-c">2. Add HDInsight SDK NuGet to your project -</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC3"><span class="pl-c">In Visual Studio 2012, Click on Tools -&gt; library package manager -&gt; Package Manager Console </span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC4"><span class="pl-c">PM&gt; Install-Package Microsoft.WindowsAzure.Management.HDInsight </span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC5"><span class="pl-c">3. Use the following code, fill up the relevant info, then build and run -</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC6"><span class="pl-c">*/</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC7">&nbsp;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC8"><span class="pl-k">using</span> System;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC9"><span class="pl-k">using</span> System.Collections.Generic;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC10"><span class="pl-k">using</span> System.Linq;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC11"><span class="pl-k">using</span> System.Text;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC12"><span class="pl-k">using</span> System.Threading.Tasks;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC13"><span class="pl-c">//for Certtificate</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC14"><span class="pl-k">using</span> System.Security.Cryptography.X509Certificates;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC15"><span class="pl-c">//HDInsight</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC16"><span class="pl-k">using</span> Microsoft.WindowsAzure.Management.HDInsight;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC17">&nbsp;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC18"><span class="pl-k">namespace</span> <span class="pl-en">ClusterProvisioningSample</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC19">{
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC20">    <span class="pl-s">class</span> <span class="pl-en">Program</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC21">    {
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC22">        <span class="pl-s">static</span> <span class="pl-st">void</span> <span class="pl-en">Main</span>(<span class="pl-st">string[]</span> <span class="pl-vpf">args</span>)
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC23">        {
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC24">            <span class="pl-c">/* </span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC25"><span class="pl-c">            Pre-req steps:</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC26"><span class="pl-c">            1. install HDInsight SDK NuGet package via tools-&gt; Library Package Manager -&gt; Package Manager Console</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC27"><span class="pl-c">            PM&gt; Install-Package Microsoft.WindowsAzure.Management.HDInsight </span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC28"><span class="pl-c">            2. Get Subscription related Info handy, say via Windows Azure PowerShell or portal</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC29"><span class="pl-c">            Get-AzureSubscription cmdlet should give us subscription id and Certificate Thumbprint</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC30"><span class="pl-c">            3. Get Azure Storage Account(s) and Keys handy via Windows Azure Powershell or portal</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC31"><span class="pl-c">            $key1 = Get-AzureStorageKey "StorageAcctName" | %{ $_.Primary }</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC32"><span class="pl-c">            */</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC33">            
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC34">            <span class="pl-c">//Subscription id and certificate info, obtained from Get-AzureSubscription cmdlet</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC35">            <span class="pl-st">string</span> mySubscriptionId = <span class="pl-s1"><span class="pl-pds">"</span>YourSubscriptionID<span class="pl-pds">"</span></span>; <span class="pl-c">//Your subscription ID</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC36">            <span class="pl-st">string</span> myCertThumbPrint = <span class="pl-s1"><span class="pl-pds">"</span>YourThumbprintID<span class="pl-pds">"</span></span>; <span class="pl-c">//Thumbrint of my azure certificate</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC37">                       
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC38">            <span class="pl-k">var</span> store = <span class="pl-s">new</span> X509Store();
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC39">            store.Open(OpenFlags.ReadOnly);
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC40">            <span class="pl-k">var</span> cert = store.Certificates.Cast&lt;X509Certificate2&gt;().First(item =&gt; item.Thumbprint == myCertThumbPrint); 
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC41">            
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC42">            <span class="pl-c">// Create an instance of HDInsightCertificateCredential</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC43">            <span class="pl-k">var</span> creds = <span class="pl-s">new</span> HDInsightCertificateCredential(<span class="pl-s">new</span> Guid(mySubscriptionId), cert); 
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC44"> 
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC45">            <span class="pl-c">//Specify the details of Cluster to be created</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC46">            <span class="pl-st">string</span> myClusterName = <span class="pl-s1"><span class="pl-pds">"</span>YourClusterName<span class="pl-pds">"</span></span>;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC47">            <span class="pl-st">string</span> myClusterLocation = <span class="pl-s1"><span class="pl-pds">"</span>West US<span class="pl-pds">"</span></span>; <span class="pl-c">//Change region as needed</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC48">            <span class="pl-st">int</span> numClusterNodes = <span class="pl-c1">4</span>;   <span class="pl-c">// Change Number of nodes as needed</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC49">            <span class="pl-st">string</span> myClusterVersion = <span class="pl-s1"><span class="pl-pds">"</span>3.0<span class="pl-pds">"</span></span>; <span class="pl-c">//Change Cluster version as needed</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC50">            <span class="pl-st">string</span> MyHDInsightUserName = <span class="pl-s1"><span class="pl-pds">"</span>YourClusterUid<span class="pl-pds">"</span></span>;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC51">            <span class="pl-st">string</span> MyHDInsightPwd = <span class="pl-s1"><span class="pl-pds">"</span>YourClusterPwd<span class="pl-pds">"</span></span>;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC52">            <span class="pl-st">string</span> MySqlAzureUserName = <span class="pl-s1"><span class="pl-pds">"</span>YourSqlAzureUid<span class="pl-pds">"</span></span>;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC53">            <span class="pl-st">string</span> MySqlAzurePwd = <span class="pl-s1"><span class="pl-pds">"</span>YourSqlazurePwd<span class="pl-pds">"</span></span>;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC54">            <span class="pl-st">string</span> MySqlAzureServerName = <span class="pl-s1"><span class="pl-pds">"</span>YourSqlAzureServerName<span class="pl-pds">"</span></span>;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC55">            <span class="pl-st">string</span> MySqlAzureDbName = <span class="pl-s1"><span class="pl-pds">"</span>AzureDB1<span class="pl-pds">"</span></span>;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC56">            <span class="pl-st">string</span> MySqlAzureDbName2 = <span class="pl-s1"><span class="pl-pds">"</span>AzureDB2<span class="pl-pds">"</span></span>;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC57">            <span class="pl-st">string</span> DefaultStorageAccountFqdn = <span class="pl-s1"><span class="pl-pds">"</span>asv1.blob.core.windows.net<span class="pl-pds">"</span></span>;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC58">            <span class="pl-st">string</span> SecondStorageAccountFqdn = <span class="pl-s1"><span class="pl-pds">"</span>asv2.blob.core.windows.net<span class="pl-pds">"</span></span>;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC59">            <span class="pl-st">string</span> defaultContainerName = <span class="pl-s1"><span class="pl-pds">"</span>yourDefaultContainerName<span class="pl-pds">"</span></span>;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC60">            <span class="pl-st">string</span> primaryStorageAcctKey = <span class="pl-s1"><span class="pl-pds">"</span>key1<span class="pl-pds">"</span></span>; <span class="pl-c">// for DefaultStorageAccount</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC61">            <span class="pl-st">string</span> secondStorageAcctKey = <span class="pl-s1"><span class="pl-pds">"</span>key2<span class="pl-pds">"</span></span>; <span class="pl-c">// Secondary StorageAccount</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC62">            
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC63">            
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC64">            <span class="pl-c">// Specify details of the cluster to create.</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC65">            <span class="pl-k">var</span> clusterInfo = <span class="pl-s">new</span> ClusterCreateParameters()
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC66">            {
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC67">                <span class="pl-c">//cluster DNS name</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC68">                Name = myClusterName,
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC69">                <span class="pl-c">//Cluster Region</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC70">                Location = myClusterLocation,
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC71">                <span class="pl-c">//Cluster Version</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC72">                Version = myClusterVersion,
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC73">                <span class="pl-c">//DefaultStorageAccountName = "{Existing storage account}",</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC74">                DefaultStorageAccountName = DefaultStorageAccountFqdn,
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC75">                <span class="pl-c">//DefaultStorageAccountKey = "{Storage account key}",</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC76">                DefaultStorageAccountKey = primaryStorageAcctKey,
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC77">                <span class="pl-c">//DefaultStorageContainer = "{storage container - if the container doesn't exist HDInsight creates one}",</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC78">                DefaultStorageContainer = defaultContainerName,
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC79">                <span class="pl-c">//UserName = "{Cluster admin user name}",</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC80">                UserName = MyHDInsightUserName,
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC81">                <span class="pl-c">//Password = "{Password for the cluster admin user}",</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC82">                Password = MyHDInsightPwd,
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC83">                <span class="pl-c">//ClusterSizeInNodes = {size of the cluster}</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC84">                ClusterSizeInNodes = numClusterNodes
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC85">            };
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC86">            
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC87">            <span class="pl-c">// Add addtional storage Account for the cluster</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC88">            <span class="pl-k">var</span> secondaryStorage = <span class="pl-s">new</span> WabStorageAccountConfiguration(SecondStorageAccountFqdn, secondStorageAcctKey);
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC89">            clusterInfo.AdditionalStorageAccounts.Add(secondaryStorage);
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC90">            
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC91">            <span class="pl-c">// Hive Metastore</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC92">            <span class="pl-k">var</span> hiveMetaStore = <span class="pl-s">new</span> Metastore(MySqlAzureServerName, MySqlAzureDbName, MySqlAzureUserName, MySqlAzurePwd);
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC93">            clusterInfo.HiveMetastore = hiveMetaStore;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC94">            
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC95">            <span class="pl-c">// Oozie MetaStore</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC96">            <span class="pl-k">var</span> oozieMetaStore = <span class="pl-s">new</span> Metastore(MySqlAzureServerName, MySqlAzureDbName2, MySqlAzureUserName, MySqlAzurePwd);
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC97">            clusterInfo.OozieMetastore = oozieMetaStore;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC98">           
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC99">           <span class="pl-c">/* Customize configuration values for the cluster</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC100"><span class="pl-c">             * http://hadoopsdk.codeplex.com/wikipage?title=PowerShell%20Cmdlets%20for%20Cluster%20Management&amp;referringTitle=Home</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC101"><span class="pl-c">             *  1.Customizing Hadoop configuration values. Following configuration files are supported:</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC102"><span class="pl-c">             *  1.core-site.xml</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC103"><span class="pl-c">                2.hdfs-site.xml</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC104"><span class="pl-c">                3.mapred-site.xml</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC105"><span class="pl-c">                4.capacity-scheduler.xml</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC106"><span class="pl-c">                5.hive-site.xml</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC107"><span class="pl-c">                6.oozie-site.xml</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC108"><span class="pl-c">             * </span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC109"><span class="pl-c">             *  7. (in HDI 3.0) yarn-site.xml configuration is supported.</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC110"><span class="pl-c">            */</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC111">            
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC112">            <span class="pl-c">/* NOTE on capacity-scheduler.xml:</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC113"><span class="pl-c">             * Remember that, Capacity-scheduler is part of MapReduce in HDInsight 2.x and Yarn in HDInsight 3.x</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC114"><span class="pl-c">             * Accordingly, in HDInsight SDK, capacity-scheduler.xml configurations can be set via -</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC115"><span class="pl-c">             * 1. clusterInfo.YarnConfiguration (for HDI 3.x clusters) </span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC116"><span class="pl-c">             * 2. clusterInfo.MapReduceConfiguration.CapacitySchedulerConfigurationCollection (for HDI 2.x clusters)</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC117"><span class="pl-c">             */</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC118">            
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC119">            <span class="pl-c">// hdfs-site.xml configuration</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC120">            clusterInfo.HdfsConfiguration.Add(<span class="pl-s">new</span> KeyValuePair&lt;<span class="pl-st">string</span>, <span class="pl-st">string</span>&gt;(<span class="pl-s1"><span class="pl-pds">"</span>dfs.blocksize<span class="pl-pds">"</span></span>, <span class="pl-s1"><span class="pl-pds">"</span>64m<span class="pl-pds">"</span></span>)); <span class="pl-c">//default is 128MB in HDI 3.0 and 256MB in HDI 2.1</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC121">            <span class="pl-c">//core-site.xml configuration</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC122">            clusterInfo.CoreConfiguration.Add(<span class="pl-s">new</span> KeyValuePair&lt;<span class="pl-st">string</span>, <span class="pl-st">string</span>&gt;(<span class="pl-s1"><span class="pl-pds">"</span>ipc.client.connect.max.retries<span class="pl-pds">"</span></span>, <span class="pl-s1"><span class="pl-pds">"</span>60<span class="pl-pds">"</span></span>));  <span class="pl-c">//default is 50</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC123">            <span class="pl-c">// mapred-site.xml configuration</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC124">            clusterInfo.MapReduceConfiguration.ConfigurationCollection.Add(<span class="pl-s">new</span> KeyValuePair&lt;<span class="pl-st">string</span>, <span class="pl-st">string</span>&gt;(<span class="pl-s1"><span class="pl-pds">"</span>mapreduce.task.timeout<span class="pl-pds">"</span></span>, <span class="pl-s1"><span class="pl-pds">"</span>1200000<span class="pl-pds">"</span></span>)); <span class="pl-c">//default 600000</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC125">            
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC126">            <span class="pl-c">// capacity-scheduler.xml configuration in HDI 2.x</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC127">            <span class="pl-c">//clusterInfo.MapReduceConfiguration.CapacitySchedulerConfigurationCollection.Add(new KeyValuePair&lt;string, string&gt;("mapred.capacity-scheduler.maximum-system-jobs", "3100")); //default 3000</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC128">            
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC129">            <span class="pl-c">// hive-site.xml configuration</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC130">            clusterInfo.HiveConfiguration.ConfigurationCollection.Add(<span class="pl-s">new</span> KeyValuePair&lt;<span class="pl-st">string</span>, <span class="pl-st">string</span>&gt;(<span class="pl-s1"><span class="pl-pds">"</span>hive.metastore.client.socket.timeout<span class="pl-pds">"</span></span>, <span class="pl-s1"><span class="pl-pds">"</span>90<span class="pl-pds">"</span></span>)); <span class="pl-c">//default 60</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC131">            <span class="pl-c">// oozie-site.xml configuration</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC132">            clusterInfo.OozieConfiguration.ConfigurationCollection.Add(<span class="pl-s">new</span> KeyValuePair&lt;<span class="pl-st">string</span>, <span class="pl-st">string</span>&gt;(<span class="pl-s1"><span class="pl-pds">"</span>oozie.service.coord.normal.default.timeout<span class="pl-pds">"</span></span>, <span class="pl-s1"><span class="pl-pds">"</span>150<span class="pl-pds">"</span></span>)); <span class="pl-c">//default 120</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC133">            
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC134">            <span class="pl-c">// In HDI 3.x, yarn-site.xml and capacity-scheduler.xml configurations can be added to YarnConfiguration collection.</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC135">            <span class="pl-c">// yarn-site.xml configuration</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC136">            clusterInfo.YarnConfiguration.Add(<span class="pl-s">new</span> KeyValuePair&lt;<span class="pl-st">string</span>, <span class="pl-st">string</span>&gt;(<span class="pl-s1"><span class="pl-pds">"</span>yarn.nodemanager.resource.memory-mb<span class="pl-pds">"</span></span>, <span class="pl-s1"><span class="pl-pds">"</span>6200<span class="pl-pds">"</span></span>)); <span class="pl-c">//default 6144</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC137">            <span class="pl-c">// capacity-scheduler.xml configuration in HDI 3.x</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC138">            clusterInfo.YarnConfiguration.Add(<span class="pl-s">new</span> KeyValuePair&lt;<span class="pl-st">string</span>, <span class="pl-st">string</span>&gt;(<span class="pl-s1"><span class="pl-pds">"</span>yarn.scheduler.capacity.root.joblauncher.maximum-capacity<span class="pl-pds">"</span></span>, <span class="pl-s1"><span class="pl-pds">"</span>60<span class="pl-pds">"</span></span>)); <span class="pl-c">//default 50</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC139">           
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC140">            <span class="pl-c">// Additional Libraries for Hive</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC141">            <span class="pl-st">string</span> hiveAddtionalLibContainer =<span class="pl-s1"><span class="pl-pds">"</span>azimhivelibs<span class="pl-pds">"</span></span>;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC142">            <span class="pl-k">var</span> hiveAdditionalLibStorage = <span class="pl-s">new</span> WabStorageAccountConfiguration(DefaultStorageAccountFqdn, primaryStorageAcctKey, hiveAddtionalLibContainer);
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC143">            clusterInfo.HiveConfiguration.AdditionalLibraries = hiveAdditionalLibStorage;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC144">            
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC145">            <span class="pl-c">//Additional Library for Oozie, we can set similar to Hive</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC146">            <span class="pl-c">//clusterInfo.OozieConfiguration.AdditionalSharedLibraries</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC147">            <span class="pl-c">//clusterInfo.OozieConfiguration.AdditionalActionExecutorLibraries</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC148">                       
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC149">            IHDInsightClient client = <span class="pl-c1">null</span>;
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC150">            <span class="pl-c">// Authenticate to Windows Azure</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC151">            <span class="pl-k">try</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC152">            {
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC153">                <span class="pl-c">// First Authenticate to Windows Azure Via certificate</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC154">                client = HDInsightClient.Connect(creds);
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC155">                
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC156">                <span class="pl-c">// Create cluster. </span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC157">                <span class="pl-c">//CreateCluster function will poll automatically for the cluster status and will return when the cluster has finished provisioning.</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC158">                <span class="pl-c">//If you need method to return immediately you can use Async version.</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC159">                <span class="pl-k">try</span>
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC160">                {
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC161">                    Console.WriteLine(<span class="pl-s1"><span class="pl-pds">"</span><span class="pl-cce">\n</span>Creating Cluster<span class="pl-pds">"</span></span>);
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC162">                    <span class="pl-k">var</span> clusterDetails = client.CreateCluster(clusterInfo);
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC163">                }
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC164">                <span class="pl-k">catch</span> (Exception ex2)
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC165">                {
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC166">                    Console.WriteLine(<span class="pl-s1"><span class="pl-pds">"</span><span class="pl-cce">\n</span>Error while Creating Cluster, Error Message: <span class="pl-cce">\r\n</span><span class="pl-pds">"</span></span>);
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC167">                    Console.WriteLine(ex2.Message);
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC168">                    Console.WriteLine(ex2.StackTrace);
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC169">                }
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC170">            }
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC171">            <span class="pl-k">catch</span> (Exception ex1)
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC172">            {
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC173">                Console.WriteLine(<span class="pl-s1"><span class="pl-pds">"</span><span class="pl-cce">\n</span>Error while authenticating to Windows Azure: <span class="pl-cce">\r\n</span><span class="pl-pds">"</span></span>);
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC174">                Console.WriteLine(ex1.Message);
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC175">                Console.WriteLine(ex1.StackTrace);
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC176">            }
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC177">            
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC178">        }
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC179">    }
</div><div class="line" id="file-hdinsight_cluster_customization_via_sdk-cs-LC180">}
</div></pre>
          </td>
        </tr>
      </tbody></table>
    </div>

          </div>
          <div class="gist-meta">
            <a href="https://gist.github.com/AzimUddin/11025548/raw/HDInsight_Cluster_Customization_Via_SDK.cs" style="float:right">view raw</a>
            <a href="https://gist.github.com/AzimUddin/11025548#file-hdinsight_cluster_customization_via_sdk-cs">HDInsight_Cluster_Customization_Via_SDK.cs</a>
            hosted with ❤ by <a href="https://github.com/">GitHub</a>
          </div>
        </div>
</div>

<p><em><strong></strong></em>&nbsp;</p>
<p><em><strong><span style="font-size: medium;">Can we customize a cluster after&nbsp;Provisioning?</span></strong></em></p>
<p><span style="font-size: small;">We can, but as explained in Dan's <a href="http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/01/the-hdinsight-support-team-is-open-for-business.aspx">blog</a>,
 outside of cluster customization during the install time, any manual 
modification of the Hadoop configuration files or any other file won't 
be preserved when the Azure VM nodes get updated - hence this is not 
recommended or supported. But the good news is, you can always customize
 or configure a Job and here are some of the possible options (not 
limited to)-</span></p>
<p><span style="font-size: small;">1. You can specify Hadoop configuration values for a job, as shown in this <a href="http://blogs.msdn.com/b/bigdatasupport/archive/2014/02/13/how-to-pass-hadoop-configuration-values-for-a-job-via-hdinsight-powershell-and-net-sdk.aspx">blog</a></span></p>
<p><span style="font-size: small;">2. You can use additional Azure 
Storage accounts (that are not associated with this HDInsight cluster) 
for a job, as shown in this <a href="http://social.technet.microsoft.com/wiki/contents/articles/23256.using-an-hdinsight-cluster-with-alternate-storage-accounts-and-metastores.aspx">TechNet article</a></span></p>
<p><span style="font-size: small;">3. You can upload a custom JAR to 
Window Azure Blob Storage and refer to that JAR from a job via MapReduce
 -libjars, Hive 'Add Jar' or Pig Register mechanisms.</span></p>
<p><span style="font-size: small;">That's all for today. I hope you find the blog helpful!</span></p>
<p><span style="font-size: small;">@Azim (MSFT)</span></p><div style="clear:both;"></div></div>
    <div class="post-attachment-viewer">
		
    </div>
    <div class="post-actions">
        <div class="navigation-list-header"></div>
        <ul class="navigation-list">
            <!---->
            <li class="navigation-item"><a class="internal-link view-replies" href="http://blogs.msdn.com/b/bigdatasupport/archive/2014/04/15/customizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx#comments"><span></span>5 Comments</a></li>
            
            
        </ul>
        <div class="navigation-list-footer"></div>
    </div>
    <div class="post-tags"><div id="ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01_Container" style="display: none;"><div class="tags-editor"><textarea id="ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01_Tags" style="width: 97%; height: 100%;" rows="2" cols="30"></textarea><div style="white-space: nowrap; padding-top: 4px;"><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="left"><input onclick="Telligent_Modal.Open('\/utility\/TagSelector.aspx?TagEditor=ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01_TagEditor',400,300,null);;return false;" value="Select Tags..." type="button"></td><td align="right"><input value="Save" type="button"><input onclick="ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01.Close(); return false;" value="Cancel" type="button"></td></tr></tbody></table></div></div></div><span id="ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl02"><a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/HDInsight/" rel="tag">HDInsight</a>, <a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Hadoop/" rel="tag">Hadoop</a>, <a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/HowTo/" rel="tag">HowTo</a>, <a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Powershell/" rel="tag">Powershell</a>, <a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/HDInsight+SDK/" rel="tag">HDInsight SDK</a>, <a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/SDK/" rel="tag">SDK</a>, <a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Azim/" rel="tag">Azim</a>, <a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Cluster+Configurations/" rel="tag">Cluster Configurations</a>, <a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Customization/" rel="tag">Customization</a>, <a href="http://blogs.msdn.com/b/bigdatasupport/archive/tags/Cluster+customization/" rel="tag">Cluster customization</a></span><input name="ctl00$content$ctl00$w_153023$_acbc85$ctl00$ctl15$ctl02" id="ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl02_State" value="value:%3Ca%20href%3D%22http%3A%2F%2Fblogs.msdn.com%2Fb%2Fbigdatasupport%2Farchive%2Ftags%2FHDInsight%2F%22%20rel%3D%22tag%22%3EHDInsight%3C%2Fa%3E%2C%20%3Ca%20href%3D%22http%3A%2F%2Fblogs.msdn.com%2Fb%2Fbigdatasupport%2Farchive%2Ftags%2FHadoop%2F%22%20rel%3D%22tag%22%3EHadoop%3C%2Fa%3E%2C%20%3Ca%20href%3D%22http%3A%2F%2Fblogs.msdn.com%2Fb%2Fbigdatasupport%2Farchive%2Ftags%2FHowTo%2F%22%20rel%3D%22tag%22%3EHowTo%3C%2Fa%3E%2C%20%3Ca%20href%3D%22http%3A%2F%2Fblogs.msdn.com%2Fb%2Fbigdatasupport%2Farchive%2Ftags%2FPowershell%2F%22%20rel%3D%22tag%22%3EPowershell%3C%2Fa%3E%2C%20%3Ca%20href%3D%22http%3A%2F%2Fblogs.msdn.com%2Fb%2Fbigdatasupport%2Farchive%2Ftags%2FHDInsight%2BSDK%2F%22%20rel%3D%22tag%22%3EHDInsight%20SDK%3C%2Fa%3E%2C%20%3Ca%20href%3D%22http%3A%2F%2Fblogs.msdn.com%2Fb%2Fbigdatasupport%2Farchive%2Ftags%2FSDK%2F%22%20rel%3D%22tag%22%3ESDK%3C%2Fa%3E%2C%20%3Ca%20href%3D%22http%3A%2F%2Fblogs.msdn.com%2Fb%2Fbigdatasupport%2Farchive%2Ftags%2FAzim%2F%22%20rel%3D%22tag%22%3EAzim%3C%2Fa%3E%2C%20%3Ca%20href%3D%22http%3A%2F%2Fblogs.msdn.com%2Fb%2Fbigdatasupport%2Farchive%2Ftags%2FCluster%2BConfigurations%2F%22%20rel%3D%22tag%22%3ECluster%20Configurations%3C%2Fa%3E%2C%20%3Ca%20href%3D%22http%3A%2F%2Fblogs.msdn.com%2Fb%2Fbigdatasupport%2Farchive%2Ftags%2FCustomization%2F%22%20rel%3D%22tag%22%3ECustomization%3C%2Fa%3E%2C%20%3Ca%20href%3D%22http%3A%2F%2Fblogs.msdn.com%2Fb%2Fbigdatasupport%2Farchive%2Ftags%2FCluster%2Bcustomization%2F%22%20rel%3D%22tag%22%3ECluster%20customization%3C%2Fa%3E" type="hidden"></div>
</div>
<div class="full-post-footer"></div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom MicrosoftBlue-content-fragment-bottom"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div></div></div>
<div class="content-fragment social-media-sharing no-wrapper-with-spacing" id="fragment-153024">
<div class="content-fragment-inner MicrosoftBlue-content-fragment-inner"><div class="content-fragment-top MicrosoftBlue-content-fragment-top"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div><div class="content-fragment-content">

<script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/47499858c4077d6e043f7add14000981-e99ec8f3b45f97b38095df2708dc.js" type="text/javascript"></script>
<div class="ShareThisMainPanel">
	<div id="ctl00_content_ctl00_w_153024__acbc85_ctl00_4d792f78_fbac_4a78_b9b0_bc4b628f4bf5" class="ShareThis_ChildRootPanel" onmouseover="ShareThisChildRootPanelOnmouseOver(this.id);" onmouseout="ShareThisChildRootPanelOnmouseOut(this.id);">
		<div id="ctl00_content_ctl00_w_153024__acbc85_ctl00_ShareThisBtnCollPanel_173f81294a9d4b14886d9f5c748a56df" class="tierOnePanel">
			<div class="buttonPanel">
				<a title="Share on Facebook" class="iconsOnPanel" href="http://www.facebook.com/sharer.php?u=http://blogs.msdn.com/b/bigdatasupport/archive/2014/04/15/customizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx&amp;t=Customizing+HDInsight+Cluster+provisioning+" target="_blank"><img title="Share on Facebook" src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/facebook.gif" style="border-width:0px;"></a>
			</div><div class="buttonPanel">
				<a title="Share on Twitter" class="iconsOnPanel" href="http://twitter.com/home?status=Customizing+HDInsight+Cluster+provisioning+%20:%20http://blogs.msdn.com/b/bigdatasupport/archive/2014/04/15/customizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx" target="_blank"><img title="Share on Twitter" src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/twitter.gif" style="border-width:0px;"></a>
			</div><div class="buttonPanel">
				<a title="Share on Digg" class="iconsOnPanel" href="http://digg.com/submit?url=http://blogs.msdn.com/b/bigdatasupport/archive/2014/04/15/customizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx&amp;title=Customizing+HDInsight+Cluster+provisioning+" target="_blank"><img title="Share on Digg" src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/digg.gif" style="border-width:0px;"></a>
			</div><div class="buttonPanel">
				<a title="Share on del.icio.us" class="iconsOnPanel" href="http://del.icio.us/post?url=http://blogs.msdn.com/b/bigdatasupport/archive/2014/04/15/customizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx&amp;title=Customizing+HDInsight+Cluster+provisioning+" target="_blank"><img title="Share on del.icio.us" src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/delicious.gif" style="border-width:0px;"></a>
			</div>
		</div><div id="ctl00_content_ctl00_w_153024__acbc85_ctl00_ShareThisBtnCollPanel_f0fd714180ba426ba4d3631b57837924" class="tierTwoPanel" onclick="TierTwoPanelOnclick(this.id);" onkeypress="if (event.keyCode == 13) TierTwoPanelOnclick(this.id);" onmouseover="TierTwoPanelOnmouseOver(this.id);" onmouseout="TierTwoPanelOnmouseOut(this.id);">
			<div id="ctl00_content_ctl00_w_153024__acbc85_ctl00_ShareThisBtnCollPanel_2ea8b6dd2bee4a68aad339d83b0ccc06" class="tierTwoRowPanel">
				<div class="buttonPanel">
					<a title="Share on Reddit" class="iconsOnPanel" href="http://www.reddit.com/submit?url=http://blogs.msdn.com/b/bigdatasupport/archive/2014/04/15/customizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx&amp;title=Customizing+HDInsight+Cluster+provisioning+" target="_blank"><img title="Share on Reddit" src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/reddit.gif" style="border-width:0px;"></a>
				</div><div class="buttonPanel">
					<a title="Share on LinkedIn" class="iconsOnPanel" href="http://www.linkedin.com/shareArticle?mini=true&amp;ro=true&amp;url=http://blogs.msdn.com/b/bigdatasupport/archive/2014/04/15/customizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx&amp;title=Customizing+HDInsight+Cluster+provisioning+&amp;summary=&amp;source=Microsoft&amp;armin=armin" target="_blank"><img title="Share on LinkedIn" src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/linkedin.gif" style="border-width:0px;"></a>
				</div><div class="buttonPanel">
					<a title="Share on Slashdot" class="iconsOnPanel" href="http://slashdot.org/bookmark.pl?url=http://blogs.msdn.com/b/bigdatasupport/archive/2014/04/15/customizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx&amp;title=Customizing+HDInsight+Cluster+provisioning+" target="_blank"><img title="Share on Slashdot" src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/slashdot.gif" style="border-width:0px;"></a>
				</div><div class="buttonPanel">
					<a title="Share on MySpace" class="iconsOnPanel" href="http://www.myspace.com/Modules/PostTo/Pages/?u=http://blogs.msdn.com/b/bigdatasupport/archive/2014/04/15/customizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx&amp;t=Customizing+HDInsight+Cluster+provisioning+" target="_blank"><img title="Share on MySpace" src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/myspace.gif" style="border-width:0px;"></a>
				</div>
			</div><div id="ctl00_content_ctl00_w_153024__acbc85_ctl00_ShareThisBtnCollPanel_d8db97bb114945adb550425d94a456b6" class="tierTwoRowPanel">
				<div class="buttonPanel">
					<a title="Share on Technorati" class="iconsOnPanel" href="http://technorati.com/faves/?add=http://blogs.msdn.com/b/bigdatasupport/archive/2014/04/15/customizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx" target="_blank"><img title="Share on Technorati" src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/technorati.gif" style="border-width:0px;"></a>
				</div><div class="buttonPanel">
					<a title="Share on FriendFeed" class="iconsOnPanel" href="http://friendfeed.com/?url=http://blogs.msdn.com/b/bigdatasupport/archive/2014/04/15/customizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx&amp;title=Customizing+HDInsight+Cluster+provisioning+" target="_blank"><img title="Share on FriendFeed" src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/friendfeed.gif" style="border-width:0px;"></a>
				</div><div class="buttonPanel">
					<a title="Share on Messenger" class="iconsOnPanel" href="http://profile.live.com/badge?url=http://blogs.msdn.com/b/bigdatasupport/archive/2014/04/15/customizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx&amp;title=Customizing+HDInsight+Cluster+provisioning+" target="_blank"><img title="Share on Messenger" src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/messenger.png" style="border-width:0px;"></a>
				</div><div class="buttonPanel">
					<a title="Share on StumbleUpon" class="iconsOnPanel" href="http://www.stumbleupon.com/submit?url=http://blogs.msdn.com/b/bigdatasupport/archive/2014/04/15/customizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx&amp;title=Customizing+HDInsight+Cluster+provisioning+" target="_blank"><img title="Share on StumbleUpon" src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/stumbleupon.gif" style="border-width:0px;"></a>
				</div>
			</div>
		</div>
	</div><div id="ctl00_content_ctl00_w_153024__acbc85_ctl00_ShowMoreLessButtonsPanel_faa80016_5872_465b_ae84_5d78119e3357" tabindex="1" class="ShowMoreLessButtonsPanel" onclick="ShowMoreLessButtonsPanelOnClick(this.id);" onkeypress="if (event.keyCode == 13) ShowMoreLessButtonsPanelOnClick(this.id);" onmouseover="ShowMoreLessButtonsPanelOnmouseOver(this.id);" onmouseout="ShowMoreLessButtonsPanelOnmouseOut(this.id);">
		<a class="buttonMoreLess" id="btn_more"><img title="More" src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/more.gif" style="border-width:0px;"></a><a class="buttonMoreLess" id="btn_less"><img title="Less" src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/less.gif" style="border-width:0px;"></a>
	</div>
</div><div class="ShareClearFloatsPanel">

</div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom MicrosoftBlue-content-fragment-bottom"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div></div></div>
<div class="content-fragment captcha-blog-post-comment-form no-wrapper-with-spacing" id="fragment-153025">
<div class="content-fragment-inner MicrosoftBlue-content-fragment-inner"><div class="content-fragment-top MicrosoftBlue-content-fragment-top"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div><div class="content-fragment-content">
<input name="ctl00$content$ctl00$w_153025$_acbc85$ctl00$ctl00$postCommentUrl" id="ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_postCommentUrl" type="hidden">

    
            <div class="field-list-header"></div>
            <fieldset class="field-list">
                <legend class="field-list-description">Leave a Comment</legend>
                <ul class="field-list">
                    <li id="ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_NameField" class="field-item">
                        <label for="ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbName" class="field-item-header">Name</label>
                        <span class="field-item-input"><input name="ctl00$content$ctl00$w_153025$_acbc85$ctl00$ctl00$PlaceHolder1$ctl04$bpCommentForm$ctl04$tbName" size="60" id="ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbName" type="text"></span>
                        <span id="ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbNameRFV" style="color:Red;display:none;"><span class="field-item-validation">*</span></span>
                    </li>
                    <li class="field-item post-body">
                        <label for="ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbComment" class="field-item-header">Comment</label>
                        <span class="field-item-input"><textarea tabindex="-1" rows="2" cols="20" style="height: 100px; resize: none; overflow-y: hidden; position: absolute; top: 0px; left: -9999px; width: 653px; line-height: 15px; text-decoration: none; letter-spacing: normal;"></textarea><textarea name="ctl00$content$ctl00$w_153025$_acbc85$ctl00$ctl00$PlaceHolder1$ctl04$bpCommentForm$ctl04$tbComment" rows="2" cols="20" id="ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbComment" style="height: 100px; resize: none; overflow-y: hidden;"></textarea></span>
                        <span id="ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbCommentRFV" style="color:Red;display:none;"><span class="field-item-validation">* Please enter a comment</span></span>
                        <span id="ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbCommentREV" style="color:Red;display:none;"><span class="field-item-validation">Please shorten the content to 3072 or less</span></span>
                    </li>
                    <li class="field-item">
                        
                           <span id="ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_invisibleCaptcha" style="color:Red;display:none;">*</span><span style="display: none;" id="ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_invisibleCaptcha_subtext_captcha">Please add 1 and 3 and type the answer here: <input name="ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_invisibleCaptcha_visibleanswer" type="text"></span>


                    </li>
                    <li class="field-item">
                        <script type="text/javascript">
                            // <![CDATA[

                            $(document).ready(function () {
                                $('a.add-reply.post').click(function (e) {
                                    e.preventDefault();
                                    postComment(this);
                                    return false;
                                });

                                $('#ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbComment').keyup(function (e) {
                                    $('#errorOnPosting').hide();
                                });
                                var nameBox = $('#ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbName');
                                if (nameBox.length > 0) {
                                    $(nameBox).keyup(function (e) {
                                        $('#errorOnPosting').hide();
                                    });
                                }
                            });

                            function postComment(anchor) {
                                if (Page_ClientValidate('BlogPostCommentForm-ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00')) {
                                    togglePostAndPublishing();

                                    var Core_CreateBlogComment_AjaxEndpoint = '/Utility/ContentFragments/Core/CreateBlogComment.asmx' + "/PostComment";
                                    var name = '';
                                    var nameBox = $('#ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbName');
                                    if (nameBox.length > 0) {
                                        name = $(nameBox).val();
                                    }
                                    var body = $('#ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbComment').val();
                                    var weblogPostId = '10517653';

                                    $.ajax({
                                        type: "POST",
                                        async: false,
                                        url: Core_CreateBlogComment_AjaxEndpoint,
                                        beforeSend: function (xhr) { TelligentUtility.WriteAuthorizationHeader(xhr); },
                                        data: { weblogPostId: weblogPostId, url: '', subject: '', message: body, name: name, remember: false },
                                        success: function (results) {
                                            var responseVal = $(results.firstChild).text();
                                            if (responseVal === "-1" || responseVal === "-2") {
                                                togglePostAndPublishing();
                                                if (responseVal == "-2")
                                                    $('#errorOnPosting').html('Your comment has been flagged as spam! The blog administrator has been notified.');
                                                $('#errorOnPosting').show();
                                                return;
                                            }
                                            var redirectUrl = window.location.href;
                                            if (redirectUrl.indexOf("?") > -1) {
                                                redirectUrl = redirectUrl.replace(/\?.*/, "");
                                            } else if (redirectUrl.indexOf("#") > -1) {
                                                redirectUrl = redirectUrl.replace(/\#.*/, "");
                                            }

                                            redirectUrl += '?CommentPosted=true#commentmessage';
                                            if (window.location.href == redirectUrl) {
                                                location.reload(true);
                                            }
                                            else {
                                                window.location.href = redirectUrl;
                                            }
                                        },
                                        error: function (xhr, textStatus, errorThrown) {
                                            togglePostAndPublishing();
                                            $('#errorOnPosting').show();
                                        }
                                    });

                                }
                            }

                            function togglePostAndPublishing() {
                                $('a.add-reply.post').toggle();
                                $('a.publishing').toggle();
                            }
                            // ]]>
                        </script>
                        <span class="field-item-input">
                            
                            <a class="internal-link add-reply post" style="cursor: pointer;"><span></span>Post</a>
                            <a class="internal-link add-reply publishing" style="color:#c7c7c7; display: none;cursor: pointer;"><span></span>Publishing</a>
                            <span id="errorOnPosting" style="color: white; background-color: red; padding: 5px; margin-left: 10px; display: none;">An error occurred while posting! Please retry posting your comment.</span>
                        </span>
                    </li>
                </ul>
            </fieldset>
            <div class="field-list-footer"></div>
            
        
    </div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom MicrosoftBlue-content-fragment-bottom"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div></div></div>
<div class="content-fragment blog-feedback-list no-wrapper-with-spacing" id="fragment-153026">
<div class="content-fragment-inner MicrosoftBlue-content-fragment-inner"><div class="content-fragment-top MicrosoftBlue-content-fragment-top"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div><div class="content-fragment-content">




<script type="text/javascript">
	// <![CDATA[
	$(document).ready(function() {
	$(document).bind('telligent_blogs_commentposted', function(e, message) { 
	            window.setTimeout(new Function(ctl00_content_ctl00_w_153026__acbc85_ctl00_ctl00_DelayedFeedbackList.Reload()), 100); 
	            return true; 
	    });
	    ctl00_content_ctl00_w_153026__acbc85_ctl00_ctl00_DelayedFeedbackList.Reload();
	});
// ]]>
</script>

	

<div style="cursor: default;" id="ctl00_content_ctl00_w_153026__acbc85_ctl00_ctl00_DelayedFeedbackList"><input name="ctl00$content$ctl00$w_153026$_acbc85$ctl00$ctl00$DelayedFeedbackList" value="true:undefined" type="hidden">
	    
			    <a name="comments"></a>
			    <div class="content-list-header"></div>
			    <div class="content-list-name">
				    
						    <a class="internal-link rss" href="http://blogs.msdn.com/b/bigdatasupport/rsscomments.aspx?WeblogPostID=10517653"><span></span>Comments</a>
					    
			    </div>
			    <ul class="content-list">
		    
			    
					    <li class="content-item">
						    <div class="full-post-outer MicrosoftBlue-full-post-outer"><div class="full-post-header"><div class="r MicrosoftBlue-r"></div></div>
						    <div class="full-post"><div class="full-post-inner MicrosoftBlue-full-post-inner">
				    
			    <div class="post-author">
				    
				    <span class="avatar"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/anonymous.gif" alt="" style="border-width:0px;max-height:32px;max-width:32px;"></span>
                    <span class="profile-usercard-hover" data-profile-userid="00000000000000000000000000000000">
				        
				        <span class="user-name">Tor</span>
                    </span>
			    </div>
			    <div class="post-date">
				    <span class="value">28 Apr 2014 4:00 AM</span>
			    </div>
			    <div class="post-content user-defined-markup"><p>Hi!</p>
<p>I have the metastore DB not in AzureSQL but in a VM with SQL Server 
installed. I can't provision a cluster passing parameters to that 
instance. I need to RDP and manually change hive-site.xml file. Is not 
this supported?</p>
<div style="clear:both;"></div></div>
			    <div class="post-actions">
				    
			    </div>
			    
						    </div>
						    </div><div class="full-post-footer"><div class="r MicrosoftBlue-r"></div></div></div>
					    </li>
				    
		    
			    
					    <li class="content-item user-is-author">
						    <div class="full-post-outer MicrosoftBlue-full-post-outer"><div class="full-post-header user-is-author"><div class="r MicrosoftBlue-r"></div></div>
						    <div class="full-post user-is-author"><div class="full-post-inner MicrosoftBlue-full-post-inner">
				    
			    <div class="post-author">
				    <span class="avatar"><a href="http://blogs.msdn.com/352248/ProfileUrlRedirect.ashx"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/avatar.jpg" alt="" style="border-width:0px;max-height:32px;max-width:32px;"></a></span>
				    
                    <span data-profile-rendered="true" class="profile-usercard-hover" data-profile-userid="6914edf0b4f246dc8c85b31805475cb0">
				        <span class="user-name"><a class="internal-link view-user-profile" href="http://blogs.msdn.com/352248/ProfileUrlRedirect.ashx"><span></span>Azim Uddin</a></span>
				        
                    <div class="profile-usercard">            <div class="profile-header">                <span class="profile-userimage">                                            <img src="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAA0JCgsKCA0LCgsODg0PEyAVExISEyccHhcgLikxMC4pLSwzOko+MzZGNywtQFdBRkxOUlNSMj5aYVpQYEpRUk//2wBDAQ4ODhMREyYVFSZPNS01T09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0//wAARCAAmACwDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwC6yVTmlkE4gt4TLJjJA7VpMOaWyjME1xcCPcWRce/PNaVZOMbo3jG7sO0vS9TuCS4gjU9QTmmX9m1rOY5F2uOuPukdiKv2Wo3r20k9tbfNHgleTkVa1GGW+0+C9nUQyqjblI6+g/nWNKbvqOcbPTY54JTwlPC1l3rMLtwGIAxwD7CuqT5UZnZi30fqZY/xlpsgsI1/0SaJsggoJAc1o6bbxGwhJTnYO5HaqviG8g0zTHlG3zDhVUknOTzx9M1ySTkrNhGpyu5j2t5Mt4EVmWN22kDAz+ddBHMq2QW5jllG4rtEZc/jj+dcynmPLHJbSgKTkMBWpc6l9intlWRncOTL7jHes4O7SRtV2uXGlsIkLtp8yqoySbcgCros7NwG+yxnIzygpl5ILrS5vJBYvGdo7nircQxEoPYCtmpXOVSTV0c7PrElpbJBCgBC8sa5PWp5LpSZGJYtnJNFFaI+fdepKtq9maXhhRcaVMQzpJB1OchhjPSqU93LdXUcdviNEOSX+YsTjP8AKiiuagv3s/I78Ziq0aELS3udQkzrZ5BwVweKrNrlzExjXopxzRRXYzwlVnG1mf/Z" alt="Avatar of Azim Uddin">                                    </span>                <div>                    <p title="Azim Uddin" class="profile-display-name">Azim Uddin</p>                                    <p class="profile-company">Microsoft</p>                                    <p class="profile-affiliations">MSFT, Partner</p>                </div>            </div>            <div class="profile-points-bar">                <span class="profile-points">465<span class="points-label"> Points</span></span>                <span class="profile-count profile-bronze-points"><span class="profile-bronze-img" title="Achievements Earned"></span><span>8</span></span>                <span class="profile-count profile-silver-points"><span class="profile-silver-img" title="Achievements Earned"></span><span>0</span></span>                <span class="profile-count profile-gold-points"><span class="profile-gold-img" title="Achievements Earned"></span><span>0</span></span>                        </div>            <div class="profile-achievements-header">                <span class="profile-achievements-title">Recent Achievements</span>            </div>            <div class="profile-achievements-recent">                <div class="profile-achievements-centering">                                                                <span class="profile-achievement profile-achievement-Bronze"><span>New Blog Commentator</span></span>                                            <span class="profile-achievement profile-achievement-Bronze"><span>Forums Replies I</span></span>                                            <span class="profile-achievement profile-achievement-Bronze"><span>Code Answerer I</span></span>                                                            </div>            </div>            <div class="profile-footer">                                <a href="https://social.msdn.microsoft.com/profile/azim%20uddin/?ws=usercard-hover" class="profile-usercard-profileLink" target="_blank">View Profile</a>            </div>        </div></span>
			    </div>
			    <div class="post-date">
				    <span class="value">2 May 2014 2:13 PM</span>
			    </div>
			    <div class="post-content user-defined-markup"><p>@Tor,</p>
<p>For Hive/Oozie Metastore, Azure SQL DB is the only supported database
 that we can specify during Provisioning. As you mentioned, you can 
manually change hive-site.xml and point to a SQL Server on Azure VM 
(IAAS) and this may work, but this may not be supported, as mentioned in
 the blog. If you like to see SQL Server on Azure VM as a supported 
database type in HDInsight, please feel free to provide your feedback on
 <a rel="nofollow" target="_new" href="http://feedback.azure.com/forums/217335-hdinsight">feedback.azure.com/.../217335-hdinsight</a> </p>
<div style="clear:both;"></div></div>
			    <div class="post-actions">
				    
			    </div>
			    
						    </div>
						    </div><div class="full-post-footer user-is-author"><div class="r MicrosoftBlue-r"></div></div></div>
					    </li>
				    
		    
			    
					    <li class="content-item">
						    <div class="full-post-outer MicrosoftBlue-full-post-outer"><div class="full-post-header"><div class="r MicrosoftBlue-r"></div></div>
						    <div class="full-post"><div class="full-post-inner MicrosoftBlue-full-post-inner">
				    
			    <div class="post-author">
				    
				    <span class="avatar"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/anonymous.gif" alt="" style="border-width:0px;max-height:32px;max-width:32px;"></span>
                    <span class="profile-usercard-hover" data-profile-userid="00000000000000000000000000000000">
				        
				        <span class="user-name">Nishant</span>
                    </span>
			    </div>
			    <div class="post-date">
				    <span class="value">2 Jun 2014 2:16 AM</span>
			    </div>
			    <div class="post-content user-defined-markup"><p>Hi</p>
<p>While provisioning a cluster using .NET SDK, can I use 
HDInsightAccessTokenCredential instead of certificate? Can you please 
provide samples where cluster provisioning is done using Active 
Directory access token (which I think is the one used in 
AccessTokenCredential)?</p>
<div style="clear:both;"></div></div>
			    <div class="post-actions">
				    
			    </div>
			    
						    </div>
						    </div><div class="full-post-footer"><div class="r MicrosoftBlue-r"></div></div></div>
					    </li>
				    
		    
			    
					    <li class="content-item user-is-author">
						    <div class="full-post-outer MicrosoftBlue-full-post-outer"><div class="full-post-header user-is-author"><div class="r MicrosoftBlue-r"></div></div>
						    <div class="full-post user-is-author"><div class="full-post-inner MicrosoftBlue-full-post-inner">
				    
			    <div class="post-author">
				    <span class="avatar"><a href="http://blogs.msdn.com/352248/ProfileUrlRedirect.ashx"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/avatar.jpg" alt="" style="border-width:0px;max-height:32px;max-width:32px;"></a></span>
				    
                    <span data-profile-rendered="true" class="profile-usercard-hover" data-profile-userid="6914edf0b4f246dc8c85b31805475cb0">
				        <span class="user-name"><a class="internal-link view-user-profile" href="http://blogs.msdn.com/352248/ProfileUrlRedirect.ashx"><span></span>Azim Uddin</a></span>
				        
                    <div class="profile-usercard">            <div class="profile-header">                <span class="profile-userimage">                                            <img src="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAA0JCgsKCA0LCgsODg0PEyAVExISEyccHhcgLikxMC4pLSwzOko+MzZGNywtQFdBRkxOUlNSMj5aYVpQYEpRUk//2wBDAQ4ODhMREyYVFSZPNS01T09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0//wAARCAAmACwDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwC6yVTmlkE4gt4TLJjJA7VpMOaWyjME1xcCPcWRce/PNaVZOMbo3jG7sO0vS9TuCS4gjU9QTmmX9m1rOY5F2uOuPukdiKv2Wo3r20k9tbfNHgleTkVa1GGW+0+C9nUQyqjblI6+g/nWNKbvqOcbPTY54JTwlPC1l3rMLtwGIAxwD7CuqT5UZnZi30fqZY/xlpsgsI1/0SaJsggoJAc1o6bbxGwhJTnYO5HaqviG8g0zTHlG3zDhVUknOTzx9M1ySTkrNhGpyu5j2t5Mt4EVmWN22kDAz+ddBHMq2QW5jllG4rtEZc/jj+dcynmPLHJbSgKTkMBWpc6l9intlWRncOTL7jHes4O7SRtV2uXGlsIkLtp8yqoySbcgCros7NwG+yxnIzygpl5ILrS5vJBYvGdo7nircQxEoPYCtmpXOVSTV0c7PrElpbJBCgBC8sa5PWp5LpSZGJYtnJNFFaI+fdepKtq9maXhhRcaVMQzpJB1OchhjPSqU93LdXUcdviNEOSX+YsTjP8AKiiuagv3s/I78Ziq0aELS3udQkzrZ5BwVweKrNrlzExjXopxzRRXYzwlVnG1mf/Z" alt="Avatar of Azim Uddin">                                    </span>                <div>                    <p title="Azim Uddin" class="profile-display-name">Azim Uddin</p>                                    <p class="profile-company">Microsoft</p>                                    <p class="profile-affiliations">MSFT, Partner</p>                </div>            </div>            <div class="profile-points-bar">                <span class="profile-points">465<span class="points-label"> Points</span></span>                <span class="profile-count profile-bronze-points"><span class="profile-bronze-img" title="Achievements Earned"></span><span>8</span></span>                <span class="profile-count profile-silver-points"><span class="profile-silver-img" title="Achievements Earned"></span><span>0</span></span>                <span class="profile-count profile-gold-points"><span class="profile-gold-img" title="Achievements Earned"></span><span>0</span></span>                        </div>            <div class="profile-achievements-header">                <span class="profile-achievements-title">Recent Achievements</span>            </div>            <div class="profile-achievements-recent">                <div class="profile-achievements-centering">                                                                <span class="profile-achievement profile-achievement-Bronze"><span>New Blog Commentator</span></span>                                            <span class="profile-achievement profile-achievement-Bronze"><span>Forums Replies I</span></span>                                            <span class="profile-achievement profile-achievement-Bronze"><span>Code Answerer I</span></span>                                                            </div>            </div>            <div class="profile-footer">                                <a href="https://social.msdn.microsoft.com/profile/azim%20uddin/?ws=usercard-hover" class="profile-usercard-profileLink" target="_blank">View Profile</a>            </div>        </div></span>
			    </div>
			    <div class="post-date">
				    <span class="value">2 Jun 2014 10:37 PM</span>
			    </div>
			    <div class="post-content user-defined-markup"><p>@Nishant,</p>
<p>While HDInsight .Net SDK supports the use of Azure AD for cluster 
management and provisioning, I am not aware of any available HDInsight 
.Net SDK sample using Azure AD - we are going to request our content 
team to publish a sample. </p>
<div style="clear:both;"></div></div>
			    <div class="post-actions">
				    
			    </div>
			    
						    </div>
						    </div><div class="full-post-footer user-is-author"><div class="r MicrosoftBlue-r"></div></div></div>
					    </li>
				    
		    
			    
					    <li class="content-item">
						    <div class="full-post-outer MicrosoftBlue-full-post-outer"><div class="full-post-header"><div class="r MicrosoftBlue-r"></div></div>
						    <div class="full-post"><div class="full-post-inner MicrosoftBlue-full-post-inner">
				    
			    <div class="post-author">
				    
				    <span class="avatar"><img src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/anonymous.gif" alt="" style="border-width:0px;max-height:32px;max-width:32px;"></span>
                    <span class="profile-usercard-hover" data-profile-userid="00000000000000000000000000000000">
				        
				        <span class="user-name">Wei</span>
                    </span>
			    </div>
			    <div class="post-date">
				    <span class="value">7 Aug 2014 4:16 PM</span>
			    </div>
			    <div class="post-content user-defined-markup"><p>Hi</p>
<p>Do we have the sample or document about how to use "HDInsightAccessTokenCredential" with Azure AD now?</p>
<div style="clear:both;"></div></div>
			    <div class="post-actions">
				    
			    </div>
			    
						    </div>
						    </div><div class="full-post-footer"><div class="r MicrosoftBlue-r"></div></div></div>
					    </li>
				    
		    
			    </ul>
			    <div class="content-list-footer"></div>
		     
	    <div class="pager">
        <span class="summary">Page 1 of 1 (5 items)</span>
    </div>
	</div>
</div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom MicrosoftBlue-content-fragment-bottom"><div class="r1 MicrosoftBlue-r1"></div><div class="r2 MicrosoftBlue-r2"></div><div class="r3 MicrosoftBlue-r3"></div><div class="r4 MicrosoftBlue-r4"></div></div></div></div>
</div>
</div>
</div>
<div class="layout-footer"></div>
</div></div>

			<div class="footer-fragments-header"></div>
<div class="footer-fragments"><div class="footer-fragment copyright-info" id="footer-fragment-1710851422">

<ul class="footer-fragment-links">
    <li class="message copyright">© 2014 Microsoft Corporation.</li>
	<li class="message termsOfService"><a href="http://msdn.microsoft.com/cc300389">Terms of Use</a> </li>
    <li class="message trademarks"><a href="http://www.microsoft.com/library/toolbar/3.0/trademarks/en-us.mspx">Trademarks</a> </li>
    <li class="message privacy"><a href="http://go.microsoft.com/fwlink/?LinkId=248681">Privacy &amp; Cookies</a> </li>
    <li class="message abuse">
    
            <a id="ctl00_footer_fragment_1710851422__acbc85_ctl00_ctl00_ctl01_lnkAbuse" href='javascript:WebForm_DoPostBackWithOptions(new%20WebForm_PostBackOptions("ctl00$footer_fragment_1710851422$_acbc85$ctl00$ctl00$ctl01$lnkAbuse",%20"",%20true,%20"",%20"",%20false,%20true))'>Report Abuse</a>
        
    </li>
    
    <li class="message version">5.6.426.415</li>
</ul></div><div class="footer-fragment omniture-footer-fragment" id="footer-fragment-1710851423">


<script src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/2569210a296af7a76a1f0a41cafcfd42-2e0c141b75ad92888490f6154505.js" type="text/javascript"></script>        <noscript><a href="http://www.omniture.com" title="Web Analytics"><img
        src="http://msstomsdnblogs.112.2O7.net/b/ss/msstomsdnblogs/1/H.20.2--NS/0"
        height="1" width="1" border="0" alt="" /></a></noscript>

</div><div class="footer-fragment app-insights-footer-fragment" id="footer-fragment-1710851424">

        <script type="text/javascript" language="javascript">
            $(document).ready(function () {
                window.appInsights = { queue: [], start: function (n) { function r(n, t) { n[t] = function () { var i = arguments; n.queue.push(function () { n[t].apply(n, i) }) } } var t, i; this.applicationInsightsId = n; this.accountId = null; this.appUserId = null; r(this, "logEvent"); r(this, "logPageView"); t = document.createElement("script"); t.type = "text/javascript"; t.src = "//az416426.vo.msecnd.net/scripts/ai.js"; t.async = !0; i = document.getElementsByTagName("script")[0]; i.parentNode.insertBefore(t, i) } };
                window.appInsights.start("b4d65b72-ce61-486e-b07c-969cef6675f6");
                window.appInsights.logPageView();
            });
        </script>
    </div></div>
<div class="footer-fragments-footer"></div>
		
<script type="text/javascript">
//<![CDATA[
var Page_Validators =  new Array(document.getElementById("ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbNameRFV"), document.getElementById("ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbCommentRFV"), document.getElementById("ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbCommentREV"), document.getElementById("ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_invisibleCaptcha"));
//]]>
</script>

<script type="text/javascript">
//<![CDATA[
var ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbNameRFV = document.all ? document.all["ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbNameRFV"] : document.getElementById("ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbNameRFV");
ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbNameRFV.controltovalidate = "ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbName";
ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbNameRFV.display = "Dynamic";
ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbNameRFV.validationGroup = "BlogPostCommentForm-ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00";
ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbNameRFV.evaluationfunction = "RequiredFieldValidatorEvaluateIsValid";
ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbNameRFV.initialvalue = "";
var ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbCommentRFV = document.all ? document.all["ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbCommentRFV"] : document.getElementById("ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbCommentRFV");
ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbCommentRFV.controltovalidate = "ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbComment";
ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbCommentRFV.display = "Dynamic";
ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbCommentRFV.validationGroup = "BlogPostCommentForm-ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00";
ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbCommentRFV.evaluationfunction = "RequiredFieldValidatorEvaluateIsValid";
ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbCommentRFV.initialvalue = "";
var ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbCommentREV = document.all ? document.all["ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbCommentREV"] : document.getElementById("ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbCommentREV");
ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbCommentREV.controltovalidate = "ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbComment";
ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbCommentREV.display = "Dynamic";
ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbCommentREV.validationGroup = "BlogPostCommentForm-ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00";
ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbCommentREV.evaluationfunction = "RegularExpressionValidatorEvaluateIsValid";
ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbCommentREV.validationexpression = "^[\\s\\S]{0,3072}$";
var ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_invisibleCaptcha = document.all ? document.all["ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_invisibleCaptcha"] : document.getElementById("ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_invisibleCaptcha");
ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_invisibleCaptcha.errormessage = "*";
ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_invisibleCaptcha.display = "Dynamic";
ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_invisibleCaptcha.validationGroup = "BlogPostCommentForm-ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00";
//]]>
</script>

<script type="text/javascript">
// <![CDATA[
ctl00_content_ctl00 = new ContentFragmentPageCustomCallback('ctl00_content_ctl00',new Function('mode','parameters','callback','errorCallback','context','ctl00_content_ctl00_ctl00._doCallback(mode+\':\'+parameters,callback,context,errorCallback);'));
// ]]>
</script>
<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
xmlns:dc="http://purl.org/dc/elements/1.1/"
xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
<rdf:Description
rdf:about="http://blogs.msdn.com/b/bigdatasupport/archive/2014/04/15/customizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx"
dc:identifier="http://blogs.msdn.com/b/bigdatasupport/archive/2014/04/15/customizing-hdinsight-cluster-provisioning-via-powershell-and-net-sdk.aspx"
dc:title="Customizing HDInsight Cluster provisioning "
trackback:ping="http://blogs.msdn.com/b/bigdatasupport/trackback.ashx?WeblogPostID=10517653" />
</rdf:RDF>
-->
<script type="text/javascript">
// <![CDATA[
Telligent_Modal.Configure('\/utility\/loading.htm',['modal'],['modal-title','modal-title-2','modal-title-3','modal-title-4'],['modal-close'],['modal-content','modal-content-2'],['modal-footer','modal-footer-2','modal-footer-3'],['modal-resize'],['modal-mask'],10000,false,true,true);
// ]]>
</script><script type="text/javascript">
// <![CDATA[
window.ctl00_content_ctl00_ctl00 = new Telligent_CallbackManager('ctl00_content_ctl00_ctl00','ctl00$content$ctl00$ctl00','aspnetForm');
// ]]>
</script><script type="text/javascript">
// <![CDATA[
var ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl01=new RateableContentRating('ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl01','ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl01','ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl01_Value', 5, '/Utility/images/', false, 'rating','rating active','rating readonly',['Terrible','Poor','Fair','Average','Good','Excellent'],true,true);
// ]]>
</script>
<script type="text/javascript">
//<![CDATA[

WebForm_InitCallback();//]]>
</script>
<script type="text/javascript">
				// <![CDATA[
				var ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl01_ajax={"SaveRating":function(rating,successFunction,failureFunction){WebForm_DoCallback('ctl00$content$ctl00$w_153023$_acbc85$ctl00$ctl01',rating,successFunction,rating,failureFunction,true)}};
				// ]]>
				</script><script type="text/javascript">
// <![CDATA[
$('#ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01_Container input[value="Save"]').attr('onclick','').removeAttr('onclick').click( function(){ try { var tagText = $('#ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01_Tags').val(); if (!tagText) return false;var tagList = tagText.replace(';',',').split(','); var isValid = true; for (var i=0,l=tagList.length;i<l;i++) {isValid = /^[ -~]{0,100}$/ig.test(tagList[i]); if (!isValid) { alert(tagList[i] + ' : is not valide'); return false; } }ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01.Save();}catch(ex){ } return false; });
// ]]>
</script>
<script type="text/javascript">
// <![CDATA[
window.ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01 = new Telligent_InlineEditor('ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01','ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01_Container',new Function('id', 'p', 'ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01_InlineTagEditor.SetInlineEditorPanelAndParameter(id,p);'),new Function('return ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01_InlineTagEditor.GetContent();'),new Function('c', 'ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01_InlineTagEditor.SetContent(c);'),null,new Function('ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01_InlineTagEditor.Focus();'),new Function('w', 'h', 'ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01_InlineTagEditor.Resize(w,h);'),300,90);
// ]]>
</script><script type="text/javascript">
// <![CDATA[
var ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01_TagEditor = new TagEditor('ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01_TagEditor',[['Azim','Azim'],['Azure','Azure'],['Big Data','Big Data'],['Blob','Blob'],['built-in UDF','built-in UDF'],['CLI','CLI'],['Cloudberry','Cloudberry'],['Cloudera','Cloudera'],['Cluster Configurations','Cluster Configurations'],['Cluster customization','Cluster customization'],['compile','compile'],['Configuration','Configuration'],['Configuration values','Configuration values'],['Configurations','Configurations'],['Cross Platform','Cross Platform'],['Custom Cluster','Custom Cluster'],['Customization','Customization'],['DanSha','DanSha'],['Dharshana','Dharshana'],['Export','Export'],['Flume','Flume'],['Getting Started','Getting Started'],['GettingStarted','GettingStarted'],['GregoryS','GregoryS'],['Hadoop','Hadoop'],['Hadoop Configuration','Hadoop Configuration'],['Hadoop Configurations','Hadoop Configurations'],['Hadoop -D','Hadoop -D'],['Hadoop Parameters','Hadoop Parameters'],['HadoopCore','HadoopCore'],['HBase','HBase'],['HCatalog','HCatalog'],['HCatalog Integration','HCatalog Integration'],['HDInsight','HDInsight'],['HDInsight Hive UDF','HDInsight Hive UDF'],['HDInsight SDK','HDInsight SDK'],['HDInsight. Hadoop','HDInsight. Hadoop'],['HDP','HDP'],['HDP 2.0','HDP 2.0'],['Hive','Hive'],['Hive lib','Hive lib'],['Hive ODBC','Hive ODBC'],['Hive Partitioning','Hive Partitioning'],['Hive UDF','Hive UDF'],['Hortonworks','Hortonworks'],['HowTo','HowTo'],['Import','Import'],['ImportTsv','ImportTsv'],['JAR','JAR'],['JasonH','JasonH'],['Java','Java'],['JAVA API','JAVA API'],['javac','javac'],['Jobs','Jobs'],['JSON','JSON'],['Machine learning','Machine learning'],['Mahout and HDInsight','Mahout and HDInsight'],['Mahout with HDInsight','Mahout with HDInsight'],['Mapr','Mapr'],['MapReduce','MapReduce'],['Memory','Memory'],['Metastore','Metastore'],['MFarooq','MFarooq'],['News','News'],['Node.js','Node.js'],['oom','oom'],['Oozie','Oozie'],['Parameters','Parameters'],['performance tuning','performance tuning'],['Pig','Pig'],['pig udf','pig udf'],['PK violation','PK violation'],['Powershell','Powershell'],['Presentations','Presentations'],['PrimitiveObjectInspectorUtils','PrimitiveObjectInspectorUtils'],['Provisioning','Provisioning'],['ReadingList','ReadingList'],['Rick_H','Rick_H'],['SCOM','SCOM'],['SDK','SDK'],['Serde','Serde'],['Sliding Window','Sliding Window'],['SQL','SQL'],['SQLSaturday','SQLSaturday'],['Sqoop','Sqoop'],['Storage','Storage'],['streaming','streaming'],['StringBuffer','StringBuffer'],['StringBuilder','StringBuilder'],['Sudhir','Sudhir'],['System Center','System Center'],['Templeton','Templeton'],['ToddDe','ToddDe'],['tools','tools'],['troubleshooting','troubleshooting'],['Twitter','Twitter'],['UDF','UDF'],['wcarroll','wcarroll'],['Welcome','Welcome'],['WindowsAzureStorageBlob','WindowsAzureStorageBlob']],'ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01_Tags');
// ]]>
</script><script type="text/javascript">
// <![CDATA[
var ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01_InlineTagEditor = new InlineTagEditor('ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01_InlineTagEditor','ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01','ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01_Container','ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01_Tags');
// ]]>
</script><script type="text/javascript">
// <![CDATA[
window.ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl02 = new Telligent_InlineEditorPanel('ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl02','ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl02','ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl02_State','ctl00_content_ctl00_w_153023__acbc85_ctl00_ctl15_ctl01',false,null,null,null);
// ]]>
</script>
<script type="text/javascript">
//<![CDATA[

var Page_ValidationActive = false;
if (typeof(ValidatorOnLoad) == "function") {
    ValidatorOnLoad();
}

function ValidatorOnSubmit() {
    if (Page_ValidationActive) {
        return ValidatorCommonOnSubmit();
    }
    else {
        return true;
    }
}
        $('#ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_tbComment').autoResize({animate : false,extraSpace : 0,limit : 3000});//]]>
</script>
<script type="text/javascript">
subtext_invisible_captcha_hideFromJavascriptEnabledBrowsers('ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_invisibleCaptcha_subtext_captcha');
</script><script type="text/javascript">
subtext_invisible_captcha_setAnswer(1, 3, 'ctl00_content_ctl00_w_153025__acbc85_ctl00_ctl00_PlaceHolder1_ctl04_bpCommentForm_ctl04_invisibleCaptcha_answer');
</script><script type="text/javascript">
// <![CDATA[
window.ctl00_content_ctl00_w_153026__acbc85_ctl00_ctl00_DelayedFeedbackList = new DelayedContent('ctl00_content_ctl00_w_153026__acbc85_ctl00_ctl00_DelayedFeedbackList','ctl00_content_ctl00_w_153026__acbc85_ctl00_ctl00_DelayedFeedbackList','ctl00_content_ctl00._customCallback(\'fragment-153026\',\'ctl00$content$ctl00$w_153026$_acbc85$ctl00$ctl00$DelayedFeedbackList\',argument,null,callback,null)',true,true,null);
// ]]>
</script></form>
       
    <script type="text/javascript">
        $(window).load(function () {
            $.getScript('http://widgets.membership.s-msft.com/v1/loader.js?brand=msdn&lang=en-US', function () {
            });
        });
    </script>
    
	
		<script language="javascript" type="text/javascript">jQuery('#ctl00_content_ctl00_fragment_5545_ctl01_ctl01_ctl01_Keywords').watermark('Search...');</script>

<div id="_WEDCSInsertedData" style="display: none;"><iframe id="_msnFrame" src="Customizing%20HDInsight%20Cluster%20provisioning%20-%20Big%20Data%20Support%20-%20Site%20Home%20-%20MSDN%20Blogs_files/c_002.gif" style="z-index:-1;height:1px;width:1px;display:none;visibility:hidden;" onload="javascript:MscomBeacon();"></iframe></div></body></html>